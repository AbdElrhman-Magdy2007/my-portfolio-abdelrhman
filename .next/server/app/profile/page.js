(()=>{var e={};e.id=178,e.ids=[178],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},67096:e=>{"use strict";e.exports=require("bcrypt")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},90887:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(85282),s(57105),s(12523);var a=s(23191),t=s(88716),i=s(37922),o=s.n(i),n=s(95231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(r,l);let d=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,85282)),"C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy - Copy\\src\\app\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,57105)),"C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy - Copy\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,12523)),"C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy - Copy\\src\\app\\not-found.tsx"]}],c=["C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy - Copy\\src\\app\\profile\\page.tsx"],m="/profile/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},46760:(e,r,s)=>{let a={"19b477ae48e178edee5c6e3e817f94acf08c3b0d":()=>Promise.resolve().then(s.bind(s,66735)).then(e=>e.login),"527d1c05f636a017540588719c2fb51e3fce56a2":()=>Promise.resolve().then(s.bind(s,66735)).then(e=>e.signup),a76e3dc870aefe8c7051f39ab1f5198683531d53:()=>Promise.resolve().then(s.bind(s,66735)).then(e=>e.$$ACTION_1),bb2fb4d89767c1090d45f4cf3f524ab7462377c2:()=>Promise.resolve().then(s.bind(s,66735)).then(e=>e.$$ACTION_0)};async function t(e,...r){return(await a[e]()).apply(null,r)}e.exports={"19b477ae48e178edee5c6e3e817f94acf08c3b0d":t.bind(null,"19b477ae48e178edee5c6e3e817f94acf08c3b0d"),"527d1c05f636a017540588719c2fb51e3fce56a2":t.bind(null,"527d1c05f636a017540588719c2fb51e3fce56a2"),a76e3dc870aefe8c7051f39ab1f5198683531d53:t.bind(null,"a76e3dc870aefe8c7051f39ab1f5198683531d53"),bb2fb4d89767c1090d45f4cf3f524ab7462377c2:t.bind(null,"bb2fb4d89767c1090d45f4cf3f524ab7462377c2")}},36478:(e,r,s)=>{"use strict";s.d(r,{Z:()=>o});var a=s(71159),t={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,r)=>{let s=(0,a.forwardRef)(({color:s="currentColor",size:o=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:d="",children:c,...m},u)=>(0,a.createElement)("svg",{ref:u,...t,width:o,height:o,stroke:s,strokeWidth:l?24*Number(n)/Number(o):n,className:["lucide",`lucide-${i(e)}`,d].join(" "),...m},[...r.map(([e,r])=>(0,a.createElement)(e,r)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s}},79560:(e,r,s)=>{"use strict";s.d(r,{Z:()=>a});let a=(0,s(36478).Z)("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]])},85282:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>u});var a=s(19510),t=s(96690),i=s(75571),o=s(58585),n=s(71159),l=s(79560),d=s(35554),c=s(67347),m=s(53524);async function u(){let e=await (0,i.getServerSession)(d.L);return e||(0,o.redirect)(`/${t.Z5.AUTH}/${t.iY.LOGIN}`),e.user.role===m.UserRole.ADMIN&&(0,o.redirect)(`/${t.Z5.ADMIN}`),(0,a.jsxs)("main",{className:"relative min-h-screen bg-background transition-colors duration-300 overflow-hidden",children:[a.jsx("div",{className:"particle-wave",children:[...Array(12)].map((e,r)=>a.jsx("div",{className:"particle",style:{left:`${100*Math.random()}%`,top:`${100*Math.random()}%`,width:`${6*Math.random()+3}px`,height:`${6*Math.random()+3}px`,animationDuration:`${4*Math.random()+2}s`,animationDelay:`${3*Math.random()}s`}},r))}),a.jsx("section",{className:"py-16 lg:py-24 relative z-10",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("header",{className:"mb-12 text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-heading font-bold text-gradient-primary animate-reveal-text tracking-tight","aria-labelledby":"profile-title",children:"Your Profile"}),a.jsx("p",{className:"mt-4 text-lg md:text-xl text-muted-foreground animate-reveal-text delay-200",children:"Manage your account details with ease"})]}),a.jsx("div",{className:"max-w-3xl mx-auto",children:a.jsx("div",{className:"card glass-card animate-reveal-text delay-400 p-8",children:a.jsx(n.Suspense,{fallback:a.jsx("div",{className:"flex justify-center items-center py-10",children:a.jsx(l.Z,{className:"w-12 h-12 animate-spin text-primary","aria-hidden":"true"})}),children:e.user?a.jsx(c.Z,{user:e.user}):a.jsx("p",{className:"text-center text-destructive font-medium",role:"alert",children:"Unable to load user data. Please try again."})})})})]})})]})}},66735:(e,r,s)=>{"use strict";s.r(r),s.d(r,{$$ACTION_0:()=>h,$$ACTION_1:()=>b,login:()=>g,signup:()=>y});var a=s(24330);s(60166);var t=s(13538),i=s(67096),o=s.n(i),n=s(96690),l=s(57708),d=s(79843),c=s(9133);let m={requiredEmail:"Email is required",validEmail:"Invalid email format",requiredPassword:"Password is required",passwordMinLength:"Password must be at least 6 characters",passwordMaxLength:"Password must be less than 40 characters",requiredName:"Name is required",nameMaxLength:"Name must be less than 50 characters",requiredConfirmPassword:"Password confirmation is required",passwordsDoNotMatch:"Passwords do not match",validLimit:"Limit must be a positive integer",limitMax:"Limit must be 100 or less"},u=e=>({isValid:e.password===e.confirmPassword,issue:{message:m.passwordsDoNotMatch,path:["confirmPassword"]}}),p=()=>c.z.object({email:c.z.string().trim().min(1,{message:m.requiredEmail}).email({message:m.validEmail}).transform(e=>e.toLowerCase()),password:c.z.string().min(1,{message:m.requiredPassword}).min(6,{message:m.passwordMinLength}).max(40,{message:m.passwordMaxLength})}),f=()=>c.z.object({name:c.z.string().trim().min(1,{message:m.requiredName}).max(50,{message:m.nameMaxLength}),email:c.z.string().trim().min(1,{message:m.requiredEmail}).email({message:m.validEmail}).transform(e=>e.toLowerCase()),password:c.z.string().min(1,{message:m.requiredPassword}).min(6,{message:m.passwordMinLength}).max(40,{message:m.passwordMaxLength}),confirmPassword:c.z.string().min(1,{message:m.requiredConfirmPassword}),limit:c.z.number().int().min(1,{message:m.validLimit}).max(100,{message:m.limitMax}).default(1)}).refine(e=>u(e).isValid,e=>u(e).issue);var x=s(40618);let g=(0,a.j)("bb2fb4d89767c1090d45f4cf3f524ab7462377c2",h);async function h(e,r){if(!e?.email||!e?.password)return{status:400,message:"Email and password are required",className:"text-red-500"};let s=p().safeParse(e);if(!s.success)return{status:400,error:s.error.formErrors.fieldErrors,className:"text-red-500"};try{let e=await t._.user.findUnique({where:{email:s.data.email},select:{id:!0,email:!0,name:!0,password:!0,role:!0,createdAt:!0,updatedAt:!0}});if(!e)return{status:401,message:"User not found",className:"text-red-500"};if(!await o().compare(s.data.password,e.password))return{status:401,message:"Incorrect password",className:"text-red-500"};let{password:r,...a}=e;return{status:200,message:"Login successful",user:a,className:"text-green-500"}}catch(e){return console.error("❌ Login Error:",{error:e instanceof Error?e.message:String(e),timestamp:new Date().toISOString()}),{status:500,message:"An unexpected error occurred",error:e instanceof Error?e.message:"Unknown error",className:"text-red-500"}}}let y=(0,a.j)("a76e3dc870aefe8c7051f39ab1f5198683531d53",b);async function b(e,r){let s=Object.fromEntries(r.entries()),a=f().safeParse(s);if(!a.success)return{status:400,error:a.error.formErrors.fieldErrors,formData:r,className:"text-red-500"};try{if(await t._.user.findUnique({where:{email:a.data.email},select:{id:!0}}))return{status:409,message:"User already exists",formData:r,className:"text-red-500"};let e=await o().hash(a.data.password,10),s=await t._.user.create({data:{id:(0,d.Z)(),name:a.data.name,email:a.data.email,password:e,role:"USER"},select:{id:!0,name:!0,email:!0,role:!0}}),i=`/${n.Z5.ADMIN}`;return(0,l.revalidatePath)(`${i}/${n.iY.USERS}/${s.id}/${n.iY.EDIT}`),(0,l.revalidatePath)(`${i}/${n.iY.USERS}`),{status:201,message:"Registration successful",user:s,className:"text-green-500"}}catch(e){return console.error("❌ Signup Error:",{error:e instanceof Error?e.message:String(e),timestamp:new Date().toISOString()}),{status:500,message:"An unexpected error occurred",error:e instanceof Error?e.message:"Unknown error",className:"text-red-500"}}}(0,x.h)([g,y]),(0,a.j)("19b477ae48e178edee5c6e3e817f94acf08c3b0d",g),(0,a.j)("527d1c05f636a017540588719c2fb51e3fce56a2",y)},35554:(e,r,s)=>{"use strict";s.d(r,{L:()=>l});var a=s(96690),t=s(53797),i=s(13539),o=s(13538),n=s(66735);let l={adapter:(0,i.N)(o._),providers:[(0,t.Z)({name:"Credentials",credentials:{email:{label:"Email",type:"email",placeholder:"example@email.com"},password:{label:"Password",type:"password"}},async authorize(e,r){if(!e)throw Error("No credentials provided");let s=await (0,n.login)(e,a.lI.ENGLISH);if(200===s.status&&s.user)return s.user;throw Error(JSON.stringify({validationError:s.error,responseError:s.message}))}})],callbacks:{async jwt({token:e}){if(!e.email)return e;let r=await o._.user.findUnique({where:{email:e.email}});return r?{id:r.id,name:r.name,email:r.email,role:r.role,image:r.image,phone:r.phone,country:r.country,city:r.city,postalCode:r.postalCode,streetAddress:r.streetAddress}:e},session:({session:e,token:r})=>(r&&(e.user={...e.user,id:r.id,name:r.name,email:r.email,role:r.role,image:r.image,phone:r.phone,country:r.country,city:r.city,postalCode:r.postalCode,streetAddress:r.streetAddress}),e)},session:{strategy:"jwt",maxAge:604800,updateAge:86400},pages:{signIn:`/${a.Z5.AUTH}/${a.iY.LOGIN}`},secret:process.env.NEXTAUTH_SECRET,debug:"production"===a.CQ.DEV}},13538:(e,r,s)=>{"use strict";s.d(r,{_:()=>t});var a=s(53524);let t=global.prisma||new a.PrismaClient}};var r=require("../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),a=r.X(0,[276,190,346,16,500,77,481,928,391,239,908],()=>s(90887));module.exports=a})();