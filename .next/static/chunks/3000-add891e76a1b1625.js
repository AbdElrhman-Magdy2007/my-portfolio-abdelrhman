"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3e3],{23e3:(e,a,r)=>{r.d(a,{default:()=>ec});var t=r(95155),o=r(12115),i=r(35695),n=r(58918),l=r(60760),d=r(53607),s=r(77052),c=r(34477);let u=(0,c.createServerReference)("7f8c4b5013d6ed3d497714182fb2f01b1d209da778",c.callServer,void 0,c.findSourceMapURL,"updateProduct"),p=(0,c.createServerReference)("7f14b7ace14f66c141e7c556d53a79edeb8ddce9c7",c.callServer,void 0,c.findSourceMapURL,"addProduct"),m=(0,c.createServerReference)("7fee915e9e1e26e45f565a203fda2bdcd174c9f676",c.callServer,void 0,c.findSourceMapURL,"deleteProduct");var g=r(56671),x=r(59434),f=r(6874),h=r.n(f),b=r(66766),y=r(30285),v=r(23478),N=r(66474);let w=v.bL,j=o.forwardRef((e,a)=>{let{className:r,...o}=e;return(0,t.jsx)(v.q7,{ref:a,className:(0,x.cn)("border-b",r),...o})});j.displayName="AccordionItem";let A=o.forwardRef((e,a)=>{let{className:r,children:o,...i}=e;return(0,t.jsx)(v.Y9,{className:"flex",children:(0,t.jsxs)(v.l9,{ref:a,className:(0,x.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",r),...i,children:[o,(0,t.jsx)(N.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});A.displayName=v.l9.displayName;let E=o.forwardRef((e,a)=>{let{className:r,children:o,...i}=e;return(0,t.jsx)(v.UC,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...i,children:(0,t.jsx)("div",{className:(0,x.cn)("pb-4 pt-0",r),children:o})})});E.displayName=v.UC.displayName;var S=r(14582),k=r(47863),C=r(5196);let F=S.bL,P=S.YJ,R=S.WT,T=o.forwardRef((e,a)=>{let{className:r,children:o,...i}=e;return(0,t.jsxs)(S.l9,{ref:a,className:(0,x.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...i,children:[o,(0,t.jsx)(S.In,{asChild:!0,children:(0,t.jsx)(N.A,{className:"h-4 w-4 opacity-50"})})]})});T.displayName=S.l9.displayName;let I=o.forwardRef((e,a)=>{let{className:r,...o}=e;return(0,t.jsx)(S.PP,{ref:a,className:(0,x.cn)("flex cursor-default items-center justify-center py-1",r),...o,children:(0,t.jsx)(k.A,{className:"h-4 w-4"})})});I.displayName=S.PP.displayName;let L=o.forwardRef((e,a)=>{let{className:r,...o}=e;return(0,t.jsx)(S.wn,{ref:a,className:(0,x.cn)("flex cursor-default items-center justify-center py-1",r),...o,children:(0,t.jsx)(N.A,{className:"h-4 w-4"})})});L.displayName=S.wn.displayName;let D=o.forwardRef((e,a)=>{let{className:r,children:o,position:i="popper",...n}=e;return(0,t.jsx)(S.ZL,{children:(0,t.jsxs)(S.UC,{ref:a,className:(0,x.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:i,...n,children:[(0,t.jsx)(I,{}),(0,t.jsx)(S.LM,{className:(0,x.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:o}),(0,t.jsx)(L,{})]})})});D.displayName=S.UC.displayName,o.forwardRef((e,a)=>{let{className:r,...o}=e;return(0,t.jsx)(S.JU,{ref:a,className:(0,x.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...o})}).displayName=S.JU.displayName;let O=o.forwardRef((e,a)=>{let{className:r,children:o,...i}=e;return(0,t.jsxs)(S.q7,{ref:a,className:(0,x.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...i,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(S.VF,{children:(0,t.jsx)(C.A,{className:"h-4 w-4"})})}),(0,t.jsx)(S.p4,{children:o})]})});O.displayName=S.q7.displayName,o.forwardRef((e,a)=>{let{className:r,...o}=e;return(0,t.jsx)(S.wv,{ref:a,className:(0,x.cn)("-mx-1 my-1 h-px bg-muted",r),...o})}).displayName=S.wv.displayName;var U=r(85057),M=r(52596);let B={initial:{opacity:0,y:10},animate:{opacity:1,y:0,transition:{duration:.3}},hover:{scale:1.02,transition:{duration:.2}},tap:{scale:.98,transition:{duration:.1}}},H={initial:{opacity:0,y:-10},animate:{opacity:1,y:0,transition:{duration:.2}},exit:{opacity:0,y:-10,transition:{duration:.2}}},G={initial:{opacity:0,x:-10},animate:{opacity:1,x:0,transition:{duration:.2}}},_=o.memo(function(e){let{categories:a,categoryId:r,setCategoryId:i,className:d,required:s=!1}=e,c=o.useMemo(()=>a.find(e=>e.id===r),[a,r]),u=o.useCallback(e=>{i(e)},[i]);return(0,t.jsxs)("div",{className:(0,M.A)("space-y-2",d),children:[(0,t.jsx)(U.J,{htmlFor:"categoryId",className:"text-sm font-medium text-foreground capitalize",children:"Category"}),(0,t.jsx)(n.P.div,{variants:B,initial:"initial",animate:"animate",whileHover:"hover",whileTap:"tap",children:(0,t.jsxs)(F,{name:"categoryId",onValueChange:u,value:r,required:s,children:[(0,t.jsx)(T,{id:"categoryId",className:(0,M.A)("w-full h-12 bg-background border border-input rounded-xl","text-foreground placeholder-muted-foreground","focus:ring-2 focus:ring-primary focus:border-primary","hover:bg-accent/50 transition-all duration-200","bg-gradient-to-r from-primary/10 to-secondary/10"),"aria-label":"Select product category","aria-required":s,children:(0,t.jsx)(R,{placeholder:"Select a category",children:(null==c?void 0:c.name)||"Select a category"})}),(0,t.jsx)(l.N,{children:(0,t.jsx)(D,{className:(0,M.A)("bg-background border border-border rounded-xl shadow-lg","text-foreground max-h-60 overflow-y-auto z-50"),children:(0,t.jsx)(n.P.div,{variants:H,initial:"initial",animate:"animate",exit:"exit",children:(0,t.jsx)(P,{children:a.length>0?a.map(e=>(0,t.jsx)(n.P.div,{variants:G,className:"px-4 py-2",children:(0,t.jsx)(O,{value:e.id,className:(0,M.A)("text-foreground hover:bg-accent hover:text-accent-foreground","focus:bg-accent focus:text-accent-foreground","transition-colors duration-150 cursor-pointer rounded-md"),children:e.name})},e.id)):(0,t.jsx)("div",{className:"px-4 py-2 text-muted-foreground italic","aria-live":"polite",children:"No categories available"})})})})})]})})]})});var q=r(62523),z=r(46671),V=r(62525),Q=r(84616),$=function(e){return e.ProductTechS="ProductTechS",e.ProductAddonS="ProductAddonS",e}({});let J={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3}},exit:{opacity:0,y:-10,transition:{duration:.2}}},X={hidden:{opacity:0,scale:.95,transition:{duration:.2}},visible:{opacity:1,scale:1,transition:{duration:.2}},hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95,transition:{duration:.1}}};function Y(e){let{onChange:a,index:r,item:i,currentState:n,optionKey:l}=e,d=(0,o.useMemo)(()=>[z.PackageOption.FullStack,z.PackageOption.Backend,z.PackageOption.Frontend,z.PackageOption.UI,z.PackageOption.UX],[]),s=(0,o.useMemo)(()=>d.filter(e=>!n.some(a=>a.name===e)||i.name===e),[n,i.name]);return(0,t.jsxs)(F,{onValueChange:e=>a("name",e),value:i.name||"",required:!0,children:[(0,t.jsx)(T,{className:(0,M.A)("w-full p-3 rounded-md bg-background text-foreground border border-input","focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background","hover:bg-accent/50"),"aria-label":"Select addon option","aria-required":"true",children:(0,t.jsx)(R,{placeholder:"Select Addon"})}),(0,t.jsx)(D,{className:(0,M.A)("rounded-xl shadow-lg z-50 max-h-64 overflow-y-auto","bg-background border border-border text-foreground"),children:(0,t.jsx)(P,{children:s.length>0?s.map((e,a)=>(0,t.jsx)(O,{value:e,className:(0,M.A)("text-foreground hover:bg-accent hover:text-accent-foreground","transition-all duration-200 cursor-pointer py-2 px-4"),children:e},a)):(0,t.jsx)("div",{className:"text-muted-foreground text-center py-2",children:"No options available"})})})]})}let K=function(e){let{state:a,setState:r,optionKey:i,className:d,placeholder:s="Enter option",validate:c=()=>null}=e,[u,p]=(0,o.useState)(!1),m="ProductTechS"===i,x=m||a.length<1,{addOption:f,onChange:h,removeOption:b}=(0,o.useCallback)(()=>({addOption:async()=>{if(!m&&a.length>=1)return void g.oR.error("Only one addon is allowed.",{icon:(0,t.jsx)(V.A,{className:"w-5 h-5 text-red-400"}),style:{backgroundColor:"#4E1313",color:"#FCA5A5",border:"1px solid #FCA5A5",borderRadius:"10px",padding:"16px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"}});p(!0);try{if(a.length>0){let e=a[a.length-1],r=c(e);if(r)return void g.oR.error(r,{icon:(0,t.jsx)(V.A,{className:"w-5 h-5 text-red-400"}),style:{backgroundColor:"#4E1313",color:"#FCA5A5",border:"1px solid #FCA5A5",borderRadius:"10px",padding:"16px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"}})}r(e=>[...e,{name:""}]),g.oR.success("".concat(m?"Technology":"Addon"," added"),{icon:(0,t.jsx)(Q.A,{className:"w-5 h-5 text-green-400"}),style:{backgroundColor:"#1A3C34",color:"#6EE7B7",border:"1px solid #6EE7B7",borderRadius:"10px",padding:"16px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"}})}catch(e){g.oR.error("Failed to add option",{icon:(0,t.jsx)(V.A,{className:"w-5 h-5 text-red-400"}),style:{backgroundColor:"#4E1313",color:"#FCA5A5",border:"1px solid #FCA5A5",borderRadius:"10px",padding:"16px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"}})}finally{p(!1)}},onChange:(e,a)=>{r(r=>{let t=[...r];return t[e]=a,t})},removeOption:e=>{r(a=>a.filter((a,r)=>r!==e)),g.oR.success("".concat(m?"Technology":"Addon"," removed"),{icon:(0,t.jsx)(V.A,{className:"w-5 h-5 text-green-400"}),style:{backgroundColor:"#1A3C34",color:"#6EE7B7",border:"1px solid #6EE7B7",borderRadius:"10px",padding:"16px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"}})}}),[r,a,c,m])();return(0,t.jsxs)("div",{className:(0,M.A)("space-y-6",d),children:[(0,t.jsx)(l.N,{children:a.length>0&&(0,t.jsx)(n.P.ul,{className:"space-y-4",initial:"hidden",animate:"visible",exit:"exit",variants:{visible:{transition:{staggerChildren:.1}}},children:a.map((e,r)=>{var o;return(0,t.jsxs)(n.P.li,{variants:J,className:(0,M.A)("flex items-end gap-4 p-4 rounded-xl shadow-sm","bg-background border border-border","hover:shadow-md transition-all duration-300"),role:"listitem","aria-label":"".concat(m?"Technology":"Addon"," option ").concat(r+1),children:[(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)(U.J,{className:"text-sm font-medium text-foreground",htmlFor:"".concat(i,"-").concat(r,"-name"),children:m?"Technology":"Addon Name"}),m?(0,t.jsx)(q.p,{id:"".concat(i,"-").concat(r,"-name"),type:"text",placeholder:s,value:null!=(o=e.name)?o:"",onChange:a=>h(r,{...e,name:a.target.value}),className:(0,M.A)("w-full p-3 rounded-md bg-background text-foreground border border-input","focus:ring-2 focus:ring-primary focus:border-primary","placeholder-muted-foreground"),required:!0,"aria-required":"true"}):(0,t.jsx)(Y,{item:e,onChange:(a,t)=>h(r,{...e,[a]:t}),index:r,currentState:a,optionKey:i})]}),(0,t.jsx)(n.P.div,{variants:X,whileHover:"hover",whileTap:"tap",children:(0,t.jsx)(y.$,{type:"button",variant:"outline",size:"icon",onClick:()=>b(r),className:(0,M.A)("flex-shrink-0 border-destructive text-destructive hover:bg-destructive/10 hover:text-destructive","focus:ring-2 focus:ring-destructive focus:ring-offset-2 focus:ring-offset-background"),"aria-label":"Remove ".concat(m?"technology":"addon"," option ").concat(r+1),children:(0,t.jsx)(V.A,{className:"w-5 h-5"})})})]},r)})})}),(0,t.jsx)(l.N,{children:x&&(0,t.jsx)(n.P.div,{variants:X,initial:"hidden",animate:"visible",exit:"hidden",whileHover:"hover",whileTap:"tap",children:(0,t.jsxs)(y.$,{type:"button",variant:"outline",className:(0,M.A)("w-full py-3 rounded-xl shadow-sm","bg-gradient-to-r from-primary to-secondary text-primary-foreground border border-primary/50","hover:bg-primary/80 hover:border-primary focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background","flex items-center justify-center gap-2",u&&"opacity-50 cursor-not-allowed"),onClick:f,disabled:u,"aria-label":"Add new ".concat(m?"technology":"addon"," option"),"aria-disabled":u?"true":"false",children:[(0,t.jsx)(Q.A,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:m?"Add Technology":"Add Addon"}),u&&(0,t.jsxs)("svg",{className:"animate-spin h-5 w-5 ml-2 text-primary-foreground",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})]})})})]})};var W=r(22915),Z=r(311),ee=r(35169),ea=r(84355),er=r(94631);let et=e=>{let{type:a,label:r,placeholder:o,error:i,value:n="",onChange:l=()=>{},disabled:d=!1,className:s="",ariaLabel:c,pattern:u,required:p=!1,autoFocus:m=!1,name:g,options:x=[]}=e,f={id:g,name:g,value:n,onChange:l,placeholder:o,required:p,className:(0,M.$)("w-full p-3 rounded-lg bg-slate-900/50 border border-slate-700","text-slate-300 placeholder-slate-500 focus:ring-2 focus:ring-blue-400","transition-all duration-200 hover:shadow-md hover:shadow-blue-400/20",i?"border-red-500":"border-slate-700",s),disabled:d,"aria-label":c||r,"aria-invalid":!!i,"aria-describedby":i?"".concat(g,"-error"):void 0,autoFocus:m,...u?{pattern:u}:{}};return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{htmlFor:g,className:"block text-sm font-medium text-slate-300",children:r}),"textarea"===a?(0,t.jsx)("textarea",{...f}):"select"===a&&x?(0,t.jsxs)("select",{...f,onChange:l,children:[(0,t.jsx)("option",{value:"",children:"Select an option"}),x.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]}):"radio"===a&&x?(0,t.jsx)("div",{className:"radio-group",children:x.map(e=>(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"radio",name:g,value:e.value,checked:n===e.value,onChange:l,required:p,disabled:d,className:"form-radio","aria-label":e.label}),e.label]},e.value))}):(0,t.jsx)("input",{type:a,...f}),i&&(0,t.jsx)("p",{id:"".concat(g,"-error"),className:"mt-1 text-sm text-red-500",children:i})]})},eo={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut"}},exit:{opacity:0,scale:.9,transition:{duration:.6,ease:"easeInOut"}}},ei=()=>(0,t.jsxs)(n.P.div,{className:"fixed inset-0 flex items-center justify-center bg-gray-900/95 backdrop-blur-sm z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[(0,t.jsx)(n.P.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},className:"h-16 w-16 border-t-4 border-indigo-500 rounded-full"}),(0,t.jsx)(n.P.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"absolute mt-24 text-indigo-200 text-lg font-medium",children:"Saving your product..."})]}),en=e=>{let{selectedImage:a,setSelectedImage:r,className:i}=e,l=(0,o.useCallback)(e=>{var a;let t=null==(a=e.target.files)?void 0:a[0];t&&t.size<=5242880?r(URL.createObjectURL(t)):g.oR.error("Image must be under 5MB",{style:{background:"linear-gradient(135deg, #4E1313, #7F1D1D)",color:"#FCA5A5",border:"1px solid #FCA5A5",borderRadius:"12px",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)"}})},[r]);return(0,t.jsxs)(n.P.div,{className:(0,x.cn)("group relative w-56 h-56 overflow-hidden rounded-xl border-2 border-indigo-600/30 shadow-lg hover:shadow-xl transition-all duration-300",i),whileHover:{scale:1.03},whileTap:{scale:.97},children:[a?(0,t.jsx)(b.default,{src:a,alt:"Product Image",width:224,height:224,className:"rounded-xl object-cover"}):(0,t.jsx)("div",{className:"w-full h-full bg-gray-800/50 rounded-xl flex items-center justify-center",children:(0,t.jsx)(ea.A,{className:"w-12 h-12 text-indigo-400"})}),(0,t.jsxs)("div",{className:(0,x.cn)("absolute inset-0 bg-indigo-600/20 flex items-center justify-center transition-opacity duration-300",a?"group-hover:opacity-100 opacity-0":"opacity-100"),children:[(0,t.jsx)("input",{type:"file",accept:"image/*",className:"hidden",id:"image-upload",onChange:l,name:"image","aria-label":"Upload product image"}),(0,t.jsx)("label",{htmlFor:"image-upload",className:"w-full h-full flex items-center justify-center cursor-pointer",children:(0,t.jsx)(ea.A,{className:"w-10 h-10 text-indigo-200 drop-shadow-md"})})]})]})},el=e=>{let{pending:a,product:r}=e,[i,l]=(0,o.useState)({pending:!1,status:null,message:""}),s=(0,o.useCallback)(async e=>{try{l(e=>({...e,pending:!0}));let a=await m(e);l(e=>({...e,status:a.status,message:a.message}))}catch(e){console.error("[FormActions] Delete error:",e),l(e=>({...e,status:500,message:"An unexpected error occurred"}))}finally{l(e=>({...e,pending:!1}))}},[]);return(0,o.useEffect)(()=>{if(i.message&&i.status&&!i.pending){let e=200===i.status;g.oR[e?"success":"error"](i.message,{icon:e?(0,t.jsx)(W.A,{className:"w-5 h-5 text-green-400"}):(0,t.jsx)(Z.A,{className:"w-5 h-5 text-red-400"}),style:{background:e?"linear-gradient(135deg, #1A3C34, #2D6A4F)":"linear-gradient(135deg, #4E1313, #7F1D1D)",color:e?"#6EE7B7":"#FCA5A5",border:"1px solid ".concat(e?"#6EE7B7":"#FCA5A5"),borderRadius:"12px",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)",display:"flex",alignItems:"center",gap:"12px"},position:"top-right",duration:3e3})}},[i.message,i.status,i.pending]),(0,t.jsxs)("div",{className:"flex flex-col gap-4 mt-6",children:[(0,t.jsxs)("div",{className:(0,x.cn)("grid",r?"grid-cols-2":"grid-cols-1","gap-4"),children:[(0,t.jsx)(n.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,t.jsx)(y.$,{type:"submit",disabled:a,className:(0,x.cn)("bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold py-3 rounded-lg","hover:from-indigo-700 hover:to-purple-700 border border-indigo-600/30","focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2 focus:ring-offset-gray-900","shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2",a&&"opacity-60 cursor-not-allowed"),"aria-label":r?"Update product":"Add product",children:a?(0,t.jsx)(er.A,{className:"w-5 h-5 text-white animate-spin"}):r?"Update Product":"Add Product"})}),r&&(0,t.jsx)(n.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,t.jsx)(y.$,{variant:"outline",disabled:i.pending,onClick:()=>s(r.id),className:(0,x.cn)("border-indigo-600/30 text-indigo-300 font-semibold py-3 rounded-lg","hover:bg-indigo-600/20 hover:text-white","focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2 focus:ring-offset-gray-900","shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2",i.pending&&"opacity-60 cursor-not-allowed"),"aria-label":"Delete product",children:i.pending?(0,t.jsx)(er.A,{className:"w-5 h-5 text-indigo-300 animate-spin"}):"Delete Product"})})]}),(0,t.jsx)(n.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,t.jsx)(h(),{href:"/".concat(d.BV.ADMIN,"/").concat(d.bQ.MENU_ITEMS),className:(0,y.r)({variant:"outline",className:(0,x.cn)("w-full text-center font-semibold border border-indigo-600/30","py-3 rounded-lg text-indigo-300","hover:bg-indigo-600/20 hover:text-white","focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2 focus:ring-offset-gray-900","shadow-lg hover:shadow-xl transition-all duration-300")}),"aria-label":"Cancel and return to menu items",children:"Cancel"})})]})},ed=e=>{let{productTechs:a,setProductTechs:r}=e;return(0,t.jsx)(w,{type:"single",collapsible:!0,className:"bg-gray-800/50 border border-indigo-600/30 rounded-xl shadow-md",children:(0,t.jsxs)(j,{value:"item-1",className:"border-none",children:[(0,t.jsx)(A,{className:(0,x.cn)("text-indigo-300 text-xl font-semibold px-4 py-3","hover:bg-indigo-600/20 hover:text-white","focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2 focus:ring-offset-gray-900","transition-all duration-300"),"aria-label":"Toggle product technologies",children:"Product Technologies"}),(0,t.jsx)(E,{className:"px-4 py-3 text-indigo-200",children:(0,t.jsx)(K,{optionKey:$.ProductTechS,state:a,setState:r,className:"bg-gray-800/50 text-indigo-200 border-indigo-600/30 rounded-lg",placeholder:"Add technology (e.g., React, TypeScript)",validate:e=>{var a;return(null==(a=e.name)?void 0:a.trim())?null:"Technology name is required"}})})]})})},es=e=>{let{productAddons:a,setProductAddons:r}=e;return(0,t.jsx)(w,{type:"single",collapsible:!0,className:"bg-gray-800/50 border border-indigo-600/30 rounded-xl shadow-md",children:(0,t.jsxs)(j,{value:"item-1",className:"border-none",children:[(0,t.jsx)(A,{className:(0,x.cn)("text-indigo-300 text-xl font-semibold px-4 py-3","hover:bg-indigo-600/20 hover:text-white","focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2 focus:ring-offset-gray-900","transition-all duration-300"),"aria-label":"Toggle product addons",children:"Product Addons"}),(0,t.jsx)(E,{className:"px-4 py-3 text-indigo-200",children:(0,t.jsx)(K,{optionKey:$.ProductAddonS,state:a,setState:r,className:"bg-gray-800/50 text-indigo-200 border-indigo-600/30 rounded-lg",placeholder:"Select addon (e.g., FullStack, Backend)",validate:e=>{var a;return(null==(a=e.name)?void 0:a.trim())?Object.values(d.YG).includes(e.name)?null:"Invalid addon name":"Addon name is required"}})})]})})},ec=function(e){var a,r,c,m,f,b,y,v,N,w,j;let{categories:A,product:E}=e,S=(0,i.useRouter)(),[k,C]=(0,o.useState)(null!=(y=null==E?void 0:E.image)?y:null),[F,P]=(0,o.useState)(null!=(N=null!=(v=null==E?void 0:E.categoryId)?v:null==(a=A[0])?void 0:a.id)?N:""),[R,T]=(0,o.useState)(null!=(w=null==E||null==(r=E.ProductTech)?void 0:r.map(e=>({name:e.name})))?w:[]),[I,L]=(0,o.useState)(null!=(j=null==E||null==(c=E.ProductAddon)?void 0:c.map(e=>({name:Object.values(d.YG).find(a=>a===e.name)||d.YG.Backend})))?j:[{name:d.YG.Backend}]),[D,O]=(0,o.useState)(!1),{getFormFields:U}=(0,s.A)({slug:"".concat(d.BV.ADMIN,"/").concat(d.bQ.MENU_ITEMS)}),M=(0,o.useMemo)(()=>U(),[U]),[B,H]=(0,o.useState)(()=>{var e,a,r,t;return{name:null!=(e=null==E?void 0:E.name)?e:"",description:null!=(a=null==E?void 0:E.description)?a:"",liveDemoLink:null!=(r=null==E?void 0:E.liveDemoLink)?r:"",gitHubLink:null!=(t=null==E?void 0:E.gitHubLink)?t:""}}),[G,q,z]=(0,o.useActionState)(E?u.bind(null,{productId:E.id,options:{productTechs:R,productAddons:I}}):p.bind(null,{categoryId:F,options:{productTechs:R,productAddons:I}}),{message:"",error:{},status:null,formData:null});(0,o.useEffect)(()=>{if((201===G.status||200===G.status)&&!z){O(!0),g.oR.success(G.message||"Product saved successfully!",{icon:(0,t.jsx)(W.A,{className:"w-5 h-5 text-green-400"}),style:{background:"linear-gradient(135deg, #1A3C34, #2D6A4F)",color:"#6EE7B7",border:"1px solid #6EE7B7",borderRadius:"12px",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)",display:"flex",alignItems:"center",gap:"12px"},position:"top-right",duration:2500,className:"animate-pulse"});let e=setTimeout(()=>{S.push("/".concat(d.BV.ADMIN,"/").concat(d.bQ.MENU_ITEMS))},2e3);return()=>clearTimeout(e)}G.message&&G.status&&!z&&200!==G.status&&201!==G.status&&(g.oR.error(G.message,{icon:(0,t.jsx)(Z.A,{className:"w-5 h-5 text-red-400"}),style:{background:"linear-gradient(135deg, #4E1313, #7F1D1D)",color:"#FCA5A5",border:"1px solid #FCA5A5",borderRadius:"12px",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)",display:"flex",alignItems:"center",gap:"12px"},position:"top-right",duration:3e3}),G.error&&Object.entries(G.error).forEach(e=>{let[a,r]=e;g.oR.error("Field Error: ".concat(a),{description:r,style:{background:"linear-gradient(135deg, #4E1313, #7F1D1D)",color:"#FCA5A5",border:"1px solid #FCA5A5",borderRadius:"12px",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)"}})}))},[G.status,G.message,G.error,z,A,S]);let V=(0,o.useCallback)(e=>a=>{let r=a.target.value;console.log("[Form] Field Change: ".concat(e,' = "').concat(r,'" (type: ').concat(a.target.type,", id: ").concat(a.target.id,")")),H(a=>{let t={...a,[e]:r};return console.log("[Form] Updated formValues:",t),t})},[]);return(0,o.useEffect)(()=>{console.log("[Form] Rendered Fields:",M),M.forEach(e=>{var a;console.log("[Form] FormFields Props for ".concat(e.name,":"),{name:e.name,type:e.type,value:null!=(a=B[e.name])?a:"",hasOnChange:!!V(e.name)})})},[B,V,M]),(0,t.jsx)(l.N,{mode:"wait",children:D?(0,t.jsx)(ei,{},"loader"):(0,t.jsxs)(n.P.form,{action:e=>{let a=["name","description"].filter(e=>!B[e]||""===B[e].toString().trim());if(a.length>0)return void g.oR.error("Please fill in: ".concat(a.join(", ")),{style:{background:"linear-gradient(135deg, #4E1313, #7F1D1D)",color:"#FCA5A5",border:"1px solid #FCA5A5",borderRadius:"12px",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)"}});if(!E&&!k){var r;let a=document.querySelector("#image-upload");if(!(null==a||null==(r=a.files)?void 0:r[0]))return void g.oR.error("Please upload an image",{style:{background:"linear-gradient(135deg, #4E1313, #7F1D1D)",color:"#FCA5A5",border:"1px solid #FCA5A5",borderRadius:"12px",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)"}});e.append("image",a.files[0])}if(!F)return void g.oR.error("Please select a category",{style:{background:"linear-gradient(135deg, #4E1313, #7F1D1D)",color:"#FCA5A5",border:"1px solid #FCA5A5",borderRadius:"12px",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)"}});if(1!==I.length)return void g.oR.error("Exactly one product addon is required",{style:{background:"linear-gradient(135deg, #4E1313, #7F1D1D)",color:"#FCA5A5",border:"1px solid #FCA5A5",borderRadius:"12px",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)"}});e.append("categoryId",F),Object.entries(B).forEach(a=>{let[r,t]=a,o=(null==t?void 0:t.toString())||"";e.append(r,o),console.log("[Form] Appending to FormData: ".concat(r,' = "').concat(o,'"'))}),e.append("productTechs",JSON.stringify(R)),e.append("productAddons",JSON.stringify(I));let t={};e.forEach((e,a)=>{t[a]=e instanceof File?"[File: ".concat(e.name,"]"):e}),console.log("[Form] FormData Keys:",Array.from(e.keys())),console.log("[Form] FormData:",t),q(e)},variants:eo,initial:"initial",animate:"animate",exit:"exit",className:"relative flex flex-col md:flex-row gap-8 p-8 bg-gray-900/90 rounded-2xl shadow-2xl border border-indigo-600/30 max-w-4xl mx-auto backdrop-blur-md",role:"form","aria-labelledby":"product-form-title",children:[(0,t.jsx)("h2",{id:"product-form-title",className:"sr-only",children:E?"Update Product":"Add Product"}),(0,t.jsx)("div",{className:"absolute top-4 right-4",children:(0,t.jsxs)(h(),{href:"/".concat(d.BV.ADMIN,"/").concat(d.bQ.MENU_ITEMS),className:"flex items-center gap-2 text-indigo-400 hover:text-indigo-200 transition-colors duration-300 group","aria-label":"Back to menu items",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Back to Menu"}),(0,t.jsx)(ee.A,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform duration-300"})]})}),(0,t.jsxs)(n.P.div,{className:"flex-shrink-0 pt-8",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.1},children:[(0,t.jsx)(en,{className:(0,x.cn)("bg-gray-900/90 border border-indigo-600/30 rounded-xl p-3 shadow-md"),selectedImage:k,setSelectedImage:C}),(null==G||null==(m=G.error)?void 0:m.image)&&(0,t.jsxs)(n.P.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:(0,x.cn)("text-sm text-red-400 font-medium text-center mt-3 flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded-lg p-2"),"aria-live":"polite",children:[(0,t.jsx)("span",{className:"text-red-400",children:"⚠"})," ",G.error.image]})]}),(0,t.jsxs)(n.P.div,{className:"flex-1 space-y-6 pt-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.2},children:[(0,t.jsx)("div",{className:"grid gap-4",children:M.map(e=>{var a,r,o,i,l,d,s,c;return(0,t.jsxs)(n.P.div,{className:"space-y-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},children:["gitHubLink"===e.name||"liveDemoLink"===e.name?(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:e.name,className:"text-indigo-300 font-medium text-sm",children:e.label}),(0,t.jsx)("input",{id:e.name,name:e.name,type:"url",placeholder:null!=(l=e.placeholder)?l:"",pattern:e.pattern,value:null!=(d=B[e.name])?d:"",onChange:V(e.name),className:(0,x.cn)("w-full p-3 bg-gray-800/50 border border-indigo-600/30 rounded-lg","text-indigo-200 placeholder-indigo-400/50","focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400/50","transition-all duration-300",(null==G||null==(a=G.error)?void 0:a[e.name])&&"border-red-500/30"),"aria-label":e.ariaLabel})]}):(0,t.jsx)(et,{...e,type:e.type,label:e.label||e.name,placeholder:null!=(s=e.placeholder)?s:"",error:null==G||null==(r=G.error)?void 0:r[e.name],value:null!=(c=B[e.name])?c:"",onChange:V(e.name),disabled:z,pattern:e.pattern,ariaLabel:e.ariaLabel,required:e.required,className:(0,x.cn)("w-full p-3 bg-gray-800/50 border border-indigo-600/30 rounded-lg","text-indigo-200 placeholder-indigo-400/50","focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400/50","transition-all duration-300",(null==G||null==(o=G.error)?void 0:o[e.name])&&"border-red-500/30")}),(null==G||null==(i=G.error)?void 0:i[e.name])&&(0,t.jsxs)(n.P.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:(0,x.cn)("text-sm text-red-400 font-medium mt-1 flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded-lg p-2"),"aria-live":"polite",children:[(0,t.jsx)("span",{className:"text-red-400",children:"⚠"}),G.error[e.name]]})]},e.name)})}),(0,t.jsxs)(n.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},children:[(0,t.jsx)(_,{categoryId:F,categories:A,setCategoryId:P,className:(0,x.cn)("w-full p-3 bg-gray-800/50 border border-indigo-600/30 rounded-lg","text-indigo-200","focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400/50","transition-all duration-300",(null==G||null==(f=G.error)?void 0:f.categoryId)&&"border-red-500/30")}),(null==G||null==(b=G.error)?void 0:b.categoryId)&&(0,t.jsxs)(n.P.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:(0,x.cn)("text-sm text-red-400 font-medium mt-1 flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded-lg p-2"),"aria-live":"polite",children:[(0,t.jsx)("span",{className:"text-red-400",children:"⚠"})," ",G.error.categoryId]})]}),(0,t.jsx)(n.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},children:(0,t.jsx)(ed,{productTechs:R,setProductTechs:T})}),(0,t.jsx)(n.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.6},children:(0,t.jsx)(es,{productAddons:I,setProductAddons:L})}),(0,t.jsx)(n.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.7},children:(0,t.jsx)(el,{pending:z,product:E})})]})]},"form")})}},30285:(e,a,r)=>{r.d(a,{$:()=>s,r:()=>d});var t=r(95155),o=r(12115),i=r(99708),n=r(74466),l=r(59434);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),s=o.forwardRef((e,a)=>{let{className:r,variant:o,size:n,asChild:s=!1,...c}=e,u=s?i.DX:"button";return(0,t.jsx)(u,{className:(0,l.cn)(d({variant:o,size:n,className:r})),ref:a,...c})});s.displayName="Button"},53607:(e,a,r)=>{r.d(a,{AT:()=>t,BV:()=>o,YG:()=>l,bQ:()=>i,gN:()=>n});var t=function(e){return e.ENGLISH="en",e.ARABIC="ar",e}({}),o=function(e){return e.ROOT="",e.MENU="menu",e.ABOUT="about",e.CONTACT="contact",e.AUTH="auth",e.CART="cart",e.PROFILE="profile",e.ADMIN="admin",e.PORTFOLIO="PORTFOLIO",e.SETTINGS="SETTINGS",e}({}),i=function(e){return e.LOGIN="/signin",e.Register="/signup",e.FORGOT_PASSWORD="forgot-password",e.CATEGORIES="categories",e.MENU_ITEMS="menu-items",e.USERS="users",e.ORDERS="orders",e.NEW="new",e.EDIT="edit",e.DASHBOARD="Dashboard",e.CUSTOMERS="Customers",e.SALES="Sales",e.PRODUCTS="PRODUCTS",e.LOGOUT="LOGOUT",e}({}),n=function(e){return e.TEXT="text",e.PASSWORD="password",e.EMAIL="email",e.NUMBER="number",e.DATE="date",e.TIME="time",e.DATETIME_LOCAL="datetime-local",e.RADIO="radio",e.SELECT="select",e.TEXTAREA="textarea",e.FILE="file",e.COLOR="color",e.CHECKBOX="checkbox",e.RANGE="range",e.TEL="tel",e.URL="url",e.SEARCH="search",e.SUBMIT="submit",e.WEEK="week",e.MULTI_SELECT="multi-select",e.HIDDEN="hidden",e.BUTTON="button",e}({}),l=function(e){return e.FullStack="FullStack",e.Backend="Backend",e.Frontend="Frontend",e.UI="UI",e.UX="UX",e}({})},59434:(e,a,r)=>{r.d(a,{cn:()=>i});var t=r(52596),o=r(39688);function i(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return(0,o.QP)((0,t.$)(a))}},62523:(e,a,r)=>{r.d(a,{p:()=>n});var t=r(95155),o=r(12115),i=r(59434);let n=o.forwardRef((e,a)=>{let{className:r,type:o,...n}=e;return(0,t.jsx)("input",{type:o,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:a,...n})});n.displayName="Input"},77052:(e,a,r)=>{r.d(a,{A:()=>i});var t=r(53607);let o={email:{label:"Email Address",name:"email",type:"email",placeholder:"Enter your email",pattern:"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",ariaLabel:"Email address"},password:{label:"Password",name:"password",type:"password",placeholder:"Enter your password",ariaLabel:"Password"},name:{label:"Full Name",name:"name",type:"text",placeholder:"Enter your full name",ariaLabel:"Full name"},confirmPassword:{label:"Confirm Password",name:"confirmPassword",type:"password",placeholder:"Confirm your password",ariaLabel:"Confirm password"},phone:{label:"Phone Number",name:"phone",type:"tel",placeholder:"Enter your phone number",pattern:"^\\+?[1-9]\\d{1,14}$",ariaLabel:"Phone number"},productName:{label:"Product Name",name:"name",type:"text",placeholder:"Enter product name",ariaLabel:"Product name"},description:{label:"Description",name:"description",type:"text",placeholder:"Enter product description",ariaLabel:void 0,pattern:void 0},liveDemoLink:{label:"Live Demo Link (optional)",name:"liveDemoLink",type:"url",placeholder:"https://example.com",pattern:"^https?://.*",ariaLabel:"Live demo link"},gitHubLink:{label:"GitHub Link (optional)",name:"gitHubLink",type:"url",placeholder:"https://github.com/user/repo",pattern:"^https?://(www\\.)?github\\.com/[\\w-]+/[\\w-]+",ariaLabel:"GitHub repository link"}},i=e=>{let{slug:a}=e,r=()=>[{...o.email,autoFocus:!0},{...o.password}],i=()=>[{...o.name,autoFocus:!0},{...o.email},{...o.password},{...o.confirmPassword}],n=()=>[{...o.name,autoFocus:!0},{...o.email},{...o.phone},{...o.streetAddress},{...o.postalCode},{...o.city},{...o.country}],l=()=>[{...o.productName,autoFocus:!0},{...o.description},{...o.liveDemoLink},{...o.gitHubLink}];return{getFormFields:()=>{switch(a){case t.bQ.LOGIN:return r();case t.bQ.Register:return i();case t.BV.PROFILE:return n();case"".concat(t.BV.ADMIN,"/").concat(t.bQ.MENU_ITEMS):return l();default:return console.warn("[useFormFields] Unknown slug: ".concat(a)),[]}}}}},85057:(e,a,r)=>{r.d(a,{J:()=>s});var t=r(95155),o=r(12115),i=r(40968),n=r(74466),l=r(59434);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),s=o.forwardRef((e,a)=>{let{className:r,...o}=e;return(0,t.jsx)(i.b,{ref:a,className:(0,l.cn)(d(),r),...o})});s.displayName=i.b.displayName}}]);