"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6626],{46626:function(e,a,r){r.d(a,{default:function(){return ec}});var t,o,i=r(57437),n=r(2265),d=r(99376),l=r(69653),s=r(48614),c=r(43209),u=r(94279);r(83079);var p=r(12119),m=(0,p.$)("992f6e02786f05de85a8c14d55ab88f69938ef4e"),g=(0,p.$)("7f51daf30bff5fcced803d170612a219fe14e5e8");(0,p.$)("e122618004fcbd4c5d1f8b16f5aab8b72c6b80d4");var x=r(14438),f=r(93448),h=r(27648),b=r(33145),y=r(12381),v=r(13134),N=r(40875);let w=v.fC,j=n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,i.jsx)(v.ck,{ref:a,className:(0,f.cn)("border-b",r),...t})});j.displayName="AccordionItem";let E=n.forwardRef((e,a)=>{let{className:r,children:t,...o}=e;return(0,i.jsx)(v.h4,{className:"flex",children:(0,i.jsxs)(v.xz,{ref:a,className:(0,f.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",r),...o,children:[t,(0,i.jsx)(N.Z,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});E.displayName=v.xz.displayName;let A=n.forwardRef((e,a)=>{let{className:r,children:t,...o}=e;return(0,i.jsx)(v.VY,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...o,children:(0,i.jsx)("div",{className:(0,f.cn)("pb-4 pt-0",r),children:t})})});A.displayName=v.VY.displayName;var S=r(93402),C=r(22135),T=r(30401);let k=S.fC,F=S.ZA,R=S.B4,I=n.forwardRef((e,a)=>{let{className:r,children:t,...o}=e;return(0,i.jsxs)(S.xz,{ref:a,className:(0,f.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...o,children:[t,(0,i.jsx)(S.JO,{asChild:!0,children:(0,i.jsx)(N.Z,{className:"h-4 w-4 opacity-50"})})]})});I.displayName=S.xz.displayName;let D=n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,i.jsx)(S.u_,{ref:a,className:(0,f.cn)("flex cursor-default items-center justify-center py-1",r),...t,children:(0,i.jsx)(C.Z,{className:"h-4 w-4"})})});D.displayName=S.u_.displayName;let O=n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,i.jsx)(S.$G,{ref:a,className:(0,f.cn)("flex cursor-default items-center justify-center py-1",r),...t,children:(0,i.jsx)(N.Z,{className:"h-4 w-4"})})});O.displayName=S.$G.displayName;let P=n.forwardRef((e,a)=>{let{className:r,children:t,position:o="popper",...n}=e;return(0,i.jsx)(S.h_,{children:(0,i.jsxs)(S.VY,{ref:a,className:(0,f.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:o,...n,children:[(0,i.jsx)(D,{}),(0,i.jsx)(S.l_,{className:(0,f.cn)("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),(0,i.jsx)(O,{})]})})});P.displayName=S.VY.displayName,n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,i.jsx)(S.__,{ref:a,className:(0,f.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...t})}).displayName=S.__.displayName;let L=n.forwardRef((e,a)=>{let{className:r,children:t,...o}=e;return(0,i.jsxs)(S.ck,{ref:a,className:(0,f.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...o,children:[(0,i.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,i.jsx)(S.wU,{children:(0,i.jsx)(T.Z,{className:"h-4 w-4"})})}),(0,i.jsx)(S.eT,{children:t})]})});L.displayName=S.ck.displayName,n.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,i.jsx)(S.Z0,{ref:a,className:(0,f.cn)("-mx-1 my-1 h-px bg-muted",r),...t})}).displayName=S.Z0.displayName;var _=r(75060),Z=r(61994);let U={initial:{opacity:0,y:10},animate:{opacity:1,y:0,transition:{duration:.3}},hover:{scale:1.02,transition:{duration:.2}},tap:{scale:.98,transition:{duration:.1}}},M={initial:{opacity:0,y:-10},animate:{opacity:1,y:0,transition:{duration:.2}},exit:{opacity:0,y:-10,transition:{duration:.2}}},B={initial:{opacity:0,x:-10},animate:{opacity:1,x:0,transition:{duration:.2}}};var z=n.memo(function(e){let{categories:a,categoryId:r,setCategoryId:t,className:o,required:d=!1}=e,c=n.useMemo(()=>a.find(e=>e.id===r),[a,r]),u=n.useCallback(e=>{t(e)},[t]);return(0,i.jsxs)("div",{className:(0,Z.Z)("space-y-2",o),children:[(0,i.jsx)(_._,{htmlFor:"categoryId",className:"text-sm font-medium text-foreground capitalize",children:"Category"}),(0,i.jsx)(l.E.div,{variants:U,initial:"initial",animate:"animate",whileHover:"hover",whileTap:"tap",children:(0,i.jsxs)(k,{name:"categoryId",onValueChange:u,value:r,required:d,children:[(0,i.jsx)(I,{id:"categoryId",className:(0,Z.Z)("w-full h-12 bg-background border border-input rounded-xl","text-foreground placeholder-muted-foreground","focus:ring-2 focus:ring-primary focus:border-primary","hover:bg-accent/50 transition-all duration-200","bg-gradient-to-r from-primary/10 to-secondary/10"),"aria-label":"Select product category","aria-required":d,children:(0,i.jsx)(R,{placeholder:"Select a category",children:(null==c?void 0:c.name)||"Select a category"})}),(0,i.jsx)(s.M,{children:(0,i.jsx)(P,{className:(0,Z.Z)("bg-background border border-border rounded-xl shadow-lg","text-foreground max-h-60 overflow-y-auto z-50"),children:(0,i.jsx)(l.E.div,{variants:M,initial:"initial",animate:"animate",exit:"exit",children:(0,i.jsx)(F,{children:a.length>0?a.map(e=>(0,i.jsx)(l.E.div,{variants:B,className:"px-4 py-2",children:(0,i.jsx)(L,{value:e.id,className:(0,Z.Z)("text-foreground hover:bg-accent hover:text-accent-foreground","focus:bg-accent focus:text-accent-foreground","transition-colors duration-150 cursor-pointer rounded-md"),children:e.name})},e.id)):(0,i.jsx)("div",{className:"px-4 py-2 text-muted-foreground italic","aria-live":"polite",children:"No categories available"})})})})})]})})]})}),H=r(40279),G=r(93340),q=r(18930),Y=r(99397);(t=o||(o={})).ProductTechS="ProductTechS",t.ProductAddonS="ProductAddonS";let V={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3}},exit:{opacity:0,y:-10,transition:{duration:.2}}},W={hidden:{opacity:0,scale:.95,transition:{duration:.2}},visible:{opacity:1,scale:1,transition:{duration:.2}},hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95,transition:{duration:.1}}};function K(e){let{onChange:a,index:r,item:t,currentState:o,optionKey:d}=e,l=(0,n.useMemo)(()=>[G.PackageOption.FullStack,G.PackageOption.Backend,G.PackageOption.Frontend,G.PackageOption.UI,G.PackageOption.UX],[]),s=(0,n.useMemo)(()=>l.filter(e=>!o.some(a=>a.name===e)||t.name===e),[o,t.name]);return(0,i.jsxs)(k,{onValueChange:e=>a("name",e),value:t.name||"",required:!0,children:[(0,i.jsx)(I,{className:(0,Z.Z)("w-full p-3 rounded-md bg-background text-foreground border border-input","focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background","hover:bg-accent/50"),"aria-label":"Select addon option","aria-required":"true",children:(0,i.jsx)(R,{placeholder:"Select Addon"})}),(0,i.jsx)(P,{className:(0,Z.Z)("rounded-xl shadow-lg z-50 max-h-64 overflow-y-auto","bg-background border border-border text-foreground"),children:(0,i.jsx)(F,{children:s.length>0?s.map((e,a)=>(0,i.jsx)(L,{value:e,className:(0,Z.Z)("text-foreground hover:bg-accent hover:text-accent-foreground","transition-all duration-200 cursor-pointer py-2 px-4"),children:e},a)):(0,i.jsx)("div",{className:"text-muted-foreground text-center py-2",children:"No options available"})})})]})}var X=function(e){let{state:a,setState:r,optionKey:t,className:o,placeholder:d="Enter option",validate:c=()=>null}=e,[u,p]=(0,n.useState)(!1),m="ProductTechS"===t,g=m||a.length<1,{addOption:f,onChange:h,removeOption:b}=(0,n.useCallback)(()=>({addOption:async()=>{if(!m&&a.length>=1){x.Am.error("Only one addon is allowed.",{icon:(0,i.jsx)(q.Z,{className:"w-5 h-5 text-red-400"}),style:{backgroundColor:"#4E1313",color:"#FCA5A5",border:"1px solid #FCA5A5",borderRadius:"10px",padding:"16px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"}});return}p(!0);try{if(a.length>0){let e=a[a.length-1],r=c(e);if(r){x.Am.error(r,{icon:(0,i.jsx)(q.Z,{className:"w-5 h-5 text-red-400"}),style:{backgroundColor:"#4E1313",color:"#FCA5A5",border:"1px solid #FCA5A5",borderRadius:"10px",padding:"16px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"}});return}}r(e=>[...e,{name:""}]),x.Am.success("".concat(m?"Technology":"Addon"," added"),{icon:(0,i.jsx)(Y.Z,{className:"w-5 h-5 text-green-400"}),style:{backgroundColor:"#1A3C34",color:"#6EE7B7",border:"1px solid #6EE7B7",borderRadius:"10px",padding:"16px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"}})}catch(e){x.Am.error("Failed to add option",{icon:(0,i.jsx)(q.Z,{className:"w-5 h-5 text-red-400"}),style:{backgroundColor:"#4E1313",color:"#FCA5A5",border:"1px solid #FCA5A5",borderRadius:"10px",padding:"16px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"}})}finally{p(!1)}},onChange:(e,a)=>{r(r=>{let t=[...r];return t[e]=a,t})},removeOption:e=>{r(a=>a.filter((a,r)=>r!==e)),x.Am.success("".concat(m?"Technology":"Addon"," removed"),{icon:(0,i.jsx)(q.Z,{className:"w-5 h-5 text-green-400"}),style:{backgroundColor:"#1A3C34",color:"#6EE7B7",border:"1px solid #6EE7B7",borderRadius:"10px",padding:"16px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"}})}}),[r,a,c,m])();return(0,i.jsxs)("div",{className:(0,Z.Z)("space-y-6",o),children:[(0,i.jsx)(s.M,{children:a.length>0&&(0,i.jsx)(l.E.ul,{className:"space-y-4",initial:"hidden",animate:"visible",exit:"exit",variants:{visible:{transition:{staggerChildren:.1}}},children:a.map((e,r)=>{var o;return(0,i.jsxs)(l.E.li,{variants:V,className:(0,Z.Z)("flex items-end gap-4 p-4 rounded-xl shadow-sm","bg-background border border-border","hover:shadow-md transition-all duration-300"),role:"listitem","aria-label":"".concat(m?"Technology":"Addon"," option ").concat(r+1),children:[(0,i.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,i.jsx)(_._,{className:"text-sm font-medium text-foreground",htmlFor:"".concat(t,"-").concat(r,"-name"),children:m?"Technology":"Addon Name"}),m?(0,i.jsx)(H.I,{id:"".concat(t,"-").concat(r,"-name"),type:"text",placeholder:d,value:null!==(o=e.name)&&void 0!==o?o:"",onChange:a=>h(r,{...e,name:a.target.value}),className:(0,Z.Z)("w-full p-3 rounded-md bg-background text-foreground border border-input","focus:ring-2 focus:ring-primary focus:border-primary","placeholder-muted-foreground"),required:!0,"aria-required":"true"}):(0,i.jsx)(K,{item:e,onChange:(a,t)=>h(r,{...e,[a]:t}),index:r,currentState:a,optionKey:t})]}),(0,i.jsx)(l.E.div,{variants:W,whileHover:"hover",whileTap:"tap",children:(0,i.jsx)(y.z,{type:"button",variant:"outline",size:"icon",onClick:()=>b(r),className:(0,Z.Z)("flex-shrink-0 border-destructive text-destructive hover:bg-destructive/10 hover:text-destructive","focus:ring-2 focus:ring-destructive focus:ring-offset-2 focus:ring-offset-background"),"aria-label":"Remove ".concat(m?"technology":"addon"," option ").concat(r+1),children:(0,i.jsx)(q.Z,{className:"w-5 h-5"})})})]},r)})})}),(0,i.jsx)(s.M,{children:g&&(0,i.jsx)(l.E.div,{variants:W,initial:"hidden",animate:"visible",exit:"hidden",whileHover:"hover",whileTap:"tap",children:(0,i.jsxs)(y.z,{type:"button",variant:"outline",className:(0,Z.Z)("w-full py-3 rounded-xl shadow-sm","bg-gradient-to-r from-primary to-secondary text-primary-foreground border border-primary/50","hover:bg-primary/80 hover:border-primary focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background","flex items-center justify-center gap-2",u&&"opacity-50 cursor-not-allowed"),onClick:f,disabled:u,"aria-label":"Add new ".concat(m?"technology":"addon"," option"),"aria-disabled":u?"true":"false",children:[(0,i.jsx)(Y.Z,{className:"w-5 h-5"}),(0,i.jsx)("span",{children:m?"Add Technology":"Add Addon"}),u&&(0,i.jsxs)("svg",{className:"animate-spin h-5 w-5 ml-2 text-primary-foreground",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})]})})})]})},$=r(65302),J=r(45131),Q=r(32660),ee=r(53581),ea=r(15001),er=e=>{let{type:a,label:r,placeholder:t,error:o,value:n="",onChange:d=()=>{},disabled:l=!1,className:s="",ariaLabel:c,pattern:u,required:p=!1,autoFocus:m=!1,name:g,options:x=[]}=e,f={id:g,name:g,value:n,onChange:d,placeholder:t,required:p,className:(0,Z.W)("w-full p-3 rounded-lg bg-slate-900/50 border border-slate-700","text-slate-300 placeholder-slate-500 focus:ring-2 focus:ring-blue-400","transition-all duration-200 hover:shadow-md hover:shadow-blue-400/20",o?"border-red-500":"border-slate-700",s),disabled:l,"aria-label":c||r,"aria-invalid":!!o,"aria-describedby":o?"".concat(g,"-error"):void 0,autoFocus:m,...u?{pattern:u}:{}};return(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)("label",{htmlFor:g,className:"block text-sm font-medium text-slate-300",children:r}),"textarea"===a?(0,i.jsx)("textarea",{...f}):"select"===a&&x?(0,i.jsxs)("select",{...f,onChange:d,children:[(0,i.jsx)("option",{value:"",children:"Select an option"}),x.map(e=>(0,i.jsx)("option",{value:e.value,children:e.label},e.value))]}):"radio"===a&&x?(0,i.jsx)("div",{className:"radio-group",children:x.map(e=>(0,i.jsxs)("label",{className:"flex items-center gap-2",children:[(0,i.jsx)("input",{type:"radio",name:g,value:e.value,checked:n===e.value,onChange:d,required:p,disabled:l,className:"form-radio","aria-label":e.label}),e.label]},e.value))}):(0,i.jsx)("input",{type:a,...f}),o&&(0,i.jsx)("p",{id:"".concat(g,"-error"),className:"mt-1 text-sm text-red-500",children:o})]})},et=r(54887);let eo={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1,transition:{duration:.5,ease:"easeOut"}},exit:{opacity:0,scale:.9,transition:{duration:.6,ease:"easeInOut"}}},ei=()=>(0,i.jsxs)(l.E.div,{className:"fixed inset-0 flex items-center justify-center bg-gray-900/95 backdrop-blur-sm z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[(0,i.jsx)(l.E.div,{animate:{rotate:360,scale:[1,1.2,1]},transition:{repeat:1/0,duration:1.5,ease:"easeInOut"},className:"h-16 w-16 border-t-4 border-indigo-500 rounded-full"}),(0,i.jsx)(l.E.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"absolute mt-24 text-indigo-200 text-lg font-medium",children:"Saving your product..."})]}),en=e=>{let{selectedImage:a,setSelectedImage:r,className:t}=e,o=(0,n.useCallback)(e=>{var a;let t=null===(a=e.target.files)||void 0===a?void 0:a[0];t&&t.size<=5242880?r(URL.createObjectURL(t)):x.Am.error("Image must be under 5MB",{style:{background:"linear-gradient(135deg, #4E1313, #7F1D1D)",color:"#FCA5A5",border:"1px solid #FCA5A5",borderRadius:"12px",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)"}})},[r]);return(0,i.jsxs)(l.E.div,{className:(0,f.cn)("group relative w-56 h-56 overflow-hidden rounded-xl border-2 border-indigo-600/30 shadow-lg hover:shadow-xl transition-all duration-300",t),whileHover:{scale:1.03},whileTap:{scale:.97},children:[a?(0,i.jsx)(b.default,{src:a,alt:"Product Image",width:224,height:224,className:"rounded-xl object-cover"}):(0,i.jsx)("div",{className:"w-full h-full bg-gray-800/50 rounded-xl flex items-center justify-center",children:(0,i.jsx)(ee.Z,{className:"w-12 h-12 text-indigo-400"})}),(0,i.jsxs)("div",{className:(0,f.cn)("absolute inset-0 bg-indigo-600/20 flex items-center justify-center transition-opacity duration-300",a?"group-hover:opacity-100 opacity-0":"opacity-100"),children:[(0,i.jsx)("input",{type:"file",accept:"image/*",className:"hidden",id:"image-upload",onChange:o,name:"image","aria-label":"Upload product image"}),(0,i.jsx)("label",{htmlFor:"image-upload",className:"w-full h-full flex items-center justify-center cursor-pointer",children:(0,i.jsx)(ee.Z,{className:"w-10 h-10 text-indigo-200 drop-shadow-md"})})]})]})},ed=e=>{let{pending:a,product:r}=e,[t,o]=(0,n.useState)({pending:!1,status:null,message:""}),d=(0,n.useCallback)(async e=>{try{o(e=>({...e,pending:!0}));let a=await m(e);o(e=>({...e,status:a.status,message:a.message}))}catch(e){console.error("[FormActions] Delete error:",e),o(e=>({...e,status:500,message:"An unexpected error occurred"}))}finally{o(e=>({...e,pending:!1}))}},[]);return(0,n.useEffect)(()=>{if(t.message&&t.status&&!t.pending){let e=200===t.status;x.Am[e?"success":"error"](t.message,{icon:e?(0,i.jsx)($.Z,{className:"w-5 h-5 text-green-400"}):(0,i.jsx)(J.Z,{className:"w-5 h-5 text-red-400"}),style:{background:e?"linear-gradient(135deg, #1A3C34, #2D6A4F)":"linear-gradient(135deg, #4E1313, #7F1D1D)",color:e?"#6EE7B7":"#FCA5A5",border:"1px solid ".concat(e?"#6EE7B7":"#FCA5A5"),borderRadius:"12px",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)",display:"flex",alignItems:"center",gap:"12px"},position:"top-right",duration:3e3})}},[t.message,t.status,t.pending]),(0,i.jsxs)("div",{className:"flex flex-col gap-4 mt-6",children:[(0,i.jsxs)("div",{className:(0,f.cn)("grid",r?"grid-cols-2":"grid-cols-1","gap-4"),children:[(0,i.jsx)(l.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,i.jsx)(y.z,{type:"submit",disabled:a,className:(0,f.cn)("bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold py-3 rounded-lg","hover:from-indigo-700 hover:to-purple-700 border border-indigo-600/30","focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2 focus:ring-offset-gray-900","shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2",a&&"opacity-60 cursor-not-allowed"),"aria-label":r?"Update product":"Add product",children:a?(0,i.jsx)(ea.Z,{className:"w-5 h-5 text-white animate-spin"}):r?"Update Product":"Add Product"})}),r&&(0,i.jsx)(l.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,i.jsx)(y.z,{variant:"outline",disabled:t.pending,onClick:()=>d(r.id),className:(0,f.cn)("border-indigo-600/30 text-indigo-300 font-semibold py-3 rounded-lg","hover:bg-indigo-600/20 hover:text-white","focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2 focus:ring-offset-gray-900","shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center gap-2",t.pending&&"opacity-60 cursor-not-allowed"),"aria-label":"Delete product",children:t.pending?(0,i.jsx)(ea.Z,{className:"w-5 h-5 text-indigo-300 animate-spin"}):"Delete Product"})})]}),(0,i.jsx)(l.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,i.jsx)(h.default,{href:"/".concat(c.Z5.ADMIN,"/").concat(c.iY.MENU_ITEMS),className:(0,y.d)({variant:"outline",className:(0,f.cn)("w-full text-center font-semibold border border-indigo-600/30","py-3 rounded-lg text-indigo-300","hover:bg-indigo-600/20 hover:text-white","focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2 focus:ring-offset-gray-900","shadow-lg hover:shadow-xl transition-all duration-300")}),"aria-label":"Cancel and return to menu items",children:"Cancel"})})]})},el=e=>{let{productTechs:a,setProductTechs:r}=e;return(0,i.jsx)(w,{type:"single",collapsible:!0,className:"bg-gray-800/50 border border-indigo-600/30 rounded-xl shadow-md",children:(0,i.jsxs)(j,{value:"item-1",className:"border-none",children:[(0,i.jsx)(E,{className:(0,f.cn)("text-indigo-300 text-xl font-semibold px-4 py-3","hover:bg-indigo-600/20 hover:text-white","focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2 focus:ring-offset-gray-900","transition-all duration-300"),"aria-label":"Toggle product technologies",children:"Product Technologies"}),(0,i.jsx)(A,{className:"px-4 py-3 text-indigo-200",children:(0,i.jsx)(X,{optionKey:o.ProductTechS,state:a,setState:r,className:"bg-gray-800/50 text-indigo-200 border-indigo-600/30 rounded-lg",placeholder:"Add technology (e.g., React, TypeScript)",validate:e=>{var a;return(null===(a=e.name)||void 0===a?void 0:a.trim())?null:"Technology name is required"}})})]})})},es=e=>{let{productAddons:a,setProductAddons:r}=e;return(0,i.jsx)(w,{type:"single",collapsible:!0,className:"bg-gray-800/50 border border-indigo-600/30 rounded-xl shadow-md",children:(0,i.jsxs)(j,{value:"item-1",className:"border-none",children:[(0,i.jsx)(E,{className:(0,f.cn)("text-indigo-300 text-xl font-semibold px-4 py-3","hover:bg-indigo-600/20 hover:text-white","focus:ring-2 focus:ring-indigo-400 focus:ring-offset-2 focus:ring-offset-gray-900","transition-all duration-300"),"aria-label":"Toggle product addons",children:"Product Addons"}),(0,i.jsx)(A,{className:"px-4 py-3 text-indigo-200",children:(0,i.jsx)(X,{optionKey:o.ProductAddonS,state:a,setState:r,className:"bg-gray-800/50 text-indigo-200 border-indigo-600/30 rounded-lg",placeholder:"Select addon (e.g., FullStack, Backend)",validate:e=>{var a;return(null===(a=e.name)||void 0===a?void 0:a.trim())?Object.values(c.FA).includes(e.name)?null:"Invalid addon name":"Addon name is required"}})})]})})};var ec=function(e){var a,r,t,o,p,m,b,y,v,N,w;let{categories:j,product:E}=e,A=(0,d.useRouter)(),[S,C]=(0,n.useState)(null!==(b=null==E?void 0:E.image)&&void 0!==b?b:null),[T,k]=(0,n.useState)(null!==(v=null!==(y=null==E?void 0:E.categoryId)&&void 0!==y?y:null===(a=j[0])||void 0===a?void 0:a.id)&&void 0!==v?v:""),[F,R]=(0,n.useState)(null!==(N=null==E?void 0:null===(r=E.ProductTech)||void 0===r?void 0:r.map(e=>({name:e.name})))&&void 0!==N?N:[]),[I,D]=(0,n.useState)(null!==(w=null==E?void 0:null===(t=E.ProductAddon)||void 0===t?void 0:t.map(e=>({name:Object.values(c.FA).find(a=>a===e.name)||c.FA.Backend})))&&void 0!==w?w:[{name:c.FA.Backend}]),[O,P]=(0,n.useState)(!1),{getFormFields:L}=(0,u.Z)({slug:"".concat(c.Z5.ADMIN,"/").concat(c.iY.MENU_ITEMS)}),_=(0,n.useMemo)(()=>L(),[L]),[Z,U]=(0,n.useState)(()=>{var e,a,r,t;return{name:null!==(e=null==E?void 0:E.name)&&void 0!==e?e:"",description:null!==(a=null==E?void 0:E.description)&&void 0!==a?a:"",liveDemoLink:null!==(r=null==E?void 0:E.liveDemoLink)&&void 0!==r?r:"",gitHubLink:null!==(t=null==E?void 0:E.gitHubLink)&&void 0!==t?t:""}}),[M,B]=(0,et.useFormState)((e,a)=>g({categoryId:T,options:{productTechs:F,productAddons:I}},e,a),{message:"",status:0,error:void 0});(0,n.useEffect)(()=>{if((201===M.status||200===M.status)&&!M.pending){P(!0),x.Am.success(M.message||"Product saved successfully!",{icon:(0,i.jsx)($.Z,{className:"w-5 h-5 text-green-400"}),style:{background:"linear-gradient(135deg, #1A3C34, #2D6A4F)",color:"#6EE7B7",border:"1px solid #6EE7B7",borderRadius:"12px",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)",display:"flex",alignItems:"center",gap:"12px"},position:"top-right",duration:2500,className:"animate-pulse"});let e=setTimeout(()=>{A.push("/".concat(c.Z5.ADMIN,"/").concat(c.iY.MENU_ITEMS))},2e3);return()=>clearTimeout(e)}M.message&&M.status&&!M.pending&&!(200===M.status||201===M.status)&&(x.Am.error(M.message,{icon:(0,i.jsx)(J.Z,{className:"w-5 h-5 text-red-400"}),style:{background:"linear-gradient(135deg, #4E1313, #7F1D1D)",color:"#FCA5A5",border:"1px solid #FCA5A5",borderRadius:"12px",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)",display:"flex",alignItems:"center",gap:"12px"},position:"top-right",duration:3e3}),M.error&&Object.entries(M.error).forEach(e=>{let[a,r]=e;x.Am.error("Field Error: ".concat(a),{description:r,style:{background:"linear-gradient(135deg, #4E1313, #7F1D1D)",color:"#FCA5A5",border:"1px solid #FCA5A5",borderRadius:"12px",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)"}})}))},[M.status,M.message,M.error,M.pending,j,A]);let H=(0,n.useCallback)(e=>a=>{let r=a.target.value;console.log("[Form] Field Change: ".concat(e,' = "').concat(r,'" (type: ').concat(a.target.type,", id: ").concat(a.target.id,")")),U(a=>{let t={...a,[e]:r};return console.log("[Form] Updated formValues:",t),t})},[]);return(0,n.useEffect)(()=>{console.log("[Form] Rendered Fields:",_),_.forEach(e=>{var a;console.log("[Form] FormFields Props for ".concat(e.name,":"),{name:e.name,type:e.type,value:null!==(a=Z[e.name])&&void 0!==a?a:"",hasOnChange:!!H(e.name)})})},[Z,H,_]),(0,i.jsx)(s.M,{mode:"wait",children:O?(0,i.jsx)(ei,{},"loader"):(0,i.jsxs)(l.E.form,{action:e=>{let a=["name","description"].filter(e=>!Z[e]||""===Z[e].toString().trim());if(a.length>0){x.Am.error("Please fill in: ".concat(a.join(", ")),{style:{background:"linear-gradient(135deg, #4E1313, #7F1D1D)",color:"#FCA5A5",border:"1px solid #FCA5A5",borderRadius:"12px",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)"}});return}if(!E&&!S){var r;let a=document.querySelector("#image-upload");if(!(null==a?void 0:null===(r=a.files)||void 0===r?void 0:r[0])){x.Am.error("Please upload an image",{style:{background:"linear-gradient(135deg, #4E1313, #7F1D1D)",color:"#FCA5A5",border:"1px solid #FCA5A5",borderRadius:"12px",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)"}});return}e.append("image",a.files[0])}if(!T){x.Am.error("Please select a category",{style:{background:"linear-gradient(135deg, #4E1313, #7F1D1D)",color:"#FCA5A5",border:"1px solid #FCA5A5",borderRadius:"12px",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)"}});return}if(1!==I.length){x.Am.error("Exactly one product addon is required",{style:{background:"linear-gradient(135deg, #4E1313, #7F1D1D)",color:"#FCA5A5",border:"1px solid #FCA5A5",borderRadius:"12px",padding:"16px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.3)"}});return}e.append("categoryId",T),Object.entries(Z).forEach(a=>{let[r,t]=a,o=(null==t?void 0:t.toString())||"";e.append(r,o),console.log("[Form] Appending to FormData: ".concat(r,' = "').concat(o,'"'))}),e.append("productTechs",JSON.stringify(F)),e.append("productAddons",JSON.stringify(I));let t={};e.forEach((e,a)=>{t[a]=e instanceof File?"[File: ".concat(e.name,"]"):e}),console.log("[Form] FormData Keys:",Array.from(e.keys())),console.log("[Form] FormData:",t),B(e)},variants:eo,initial:"initial",animate:"animate",exit:"exit",className:"relative flex flex-col md:flex-row gap-8 p-8 bg-gray-900/90 rounded-2xl shadow-2xl border border-indigo-600/30 max-w-4xl mx-auto backdrop-blur-md",role:"form","aria-labelledby":"product-form-title",children:[(0,i.jsx)("h2",{id:"product-form-title",className:"sr-only",children:E?"Update Product":"Add Product"}),(0,i.jsx)("div",{className:"absolute top-4 right-4",children:(0,i.jsxs)(h.default,{href:"/".concat(c.Z5.ADMIN,"/").concat(c.iY.MENU_ITEMS),className:"flex items-center gap-2 text-indigo-400 hover:text-indigo-200 transition-colors duration-300 group","aria-label":"Back to menu items",children:[(0,i.jsx)("span",{className:"text-sm font-medium",children:"Back to Menu"}),(0,i.jsx)(Q.Z,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform duration-300"})]})}),(0,i.jsxs)(l.E.div,{className:"flex-shrink-0 pt-8",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.1},children:[(0,i.jsx)(en,{className:(0,f.cn)("bg-gray-900/90 border border-indigo-600/30 rounded-xl p-3 shadow-md"),selectedImage:S,setSelectedImage:C}),(null==M?void 0:null===(o=M.error)||void 0===o?void 0:o.image)&&(0,i.jsxs)(l.E.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:(0,f.cn)("text-sm text-red-400 font-medium text-center mt-3 flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded-lg p-2"),"aria-live":"polite",children:[(0,i.jsx)("span",{className:"text-red-400",children:"⚠"})," ",M.error.image]})]}),(0,i.jsxs)(l.E.div,{className:"flex-1 space-y-6 pt-8",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.2},children:[(0,i.jsx)("div",{className:"grid gap-4",children:_.map(e=>{var a,r,t,o,n,d,s,c;return(0,i.jsxs)(l.E.div,{className:"space-y-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},children:["gitHubLink"===e.name||"liveDemoLink"===e.name?(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{htmlFor:e.name,className:"text-indigo-300 font-medium text-sm",children:e.label}),(0,i.jsx)("input",{id:e.name,name:e.name,type:"url",placeholder:null!==(n=e.placeholder)&&void 0!==n?n:"",pattern:e.pattern,value:null!==(d=Z[e.name])&&void 0!==d?d:"",onChange:H(e.name),className:(0,f.cn)("w-full p-3 bg-gray-800/50 border border-indigo-600/30 rounded-lg","text-indigo-200 placeholder-indigo-400/50","focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400/50","transition-all duration-300",(null==M?void 0:null===(a=M.error)||void 0===a?void 0:a[e.name])&&"border-red-500/30"),"aria-label":e.ariaLabel})]}):(0,i.jsx)(er,{...e,type:e.type,label:e.label||e.name,placeholder:null!==(s=e.placeholder)&&void 0!==s?s:"",error:null==M?void 0:null===(r=M.error)||void 0===r?void 0:r[e.name],value:null!==(c=Z[e.name])&&void 0!==c?c:"",onChange:H(e.name),disabled:M.pending,pattern:e.pattern,ariaLabel:e.ariaLabel,required:e.required,className:(0,f.cn)("w-full p-3 bg-gray-800/50 border border-indigo-600/30 rounded-lg","text-indigo-200 placeholder-indigo-400/50","focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400/50","transition-all duration-300",(null==M?void 0:null===(t=M.error)||void 0===t?void 0:t[e.name])&&"border-red-500/30")}),(null==M?void 0:null===(o=M.error)||void 0===o?void 0:o[e.name])&&(0,i.jsxs)(l.E.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:(0,f.cn)("text-sm text-red-400 font-medium mt-1 flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded-lg p-2"),"aria-live":"polite",children:[(0,i.jsx)("span",{className:"text-red-400",children:"⚠"}),M.error[e.name]]})]},e.name)})}),(0,i.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},children:[(0,i.jsx)(z,{categoryId:T,categories:j,setCategoryId:k,className:(0,f.cn)("w-full p-3 bg-gray-800/50 border border-indigo-600/30 rounded-lg","text-indigo-200","focus:ring-2 focus:ring-indigo-400 focus:border-indigo-400/50","transition-all duration-300",(null==M?void 0:null===(p=M.error)||void 0===p?void 0:p.categoryId)&&"border-red-500/30")}),(null==M?void 0:null===(m=M.error)||void 0===m?void 0:m.categoryId)&&(0,i.jsxs)(l.E.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:(0,f.cn)("text-sm text-red-400 font-medium mt-1 flex items-center gap-2 bg-red-500/10 border border-red-500/30 rounded-lg p-2"),"aria-live":"polite",children:[(0,i.jsx)("span",{className:"text-red-400",children:"⚠"})," ",M.error.categoryId]})]}),(0,i.jsx)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},children:(0,i.jsx)(el,{productTechs:F,setProductTechs:R})}),(0,i.jsx)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.6},children:(0,i.jsx)(es,{productAddons:I,setProductAddons:D})}),(0,i.jsx)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.7},children:(0,i.jsx)(ed,{pending:M.pending,product:E})})]})]},"form")})}},12381:function(e,a,r){r.d(a,{d:function(){return l},z:function(){return s}});var t=r(57437),o=r(2265),i=r(37053),n=r(90535),d=r(93448);let l=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),s=o.forwardRef((e,a)=>{let{className:r,variant:o,size:n,asChild:s=!1,...c}=e,u=s?i.g7:"button";return(0,t.jsx)(u,{className:(0,d.cn)(l({variant:o,size:n,className:r})),ref:a,...c})});s.displayName="Button"},40279:function(e,a,r){r.d(a,{I:function(){return n}});var t=r(57437),o=r(2265),i=r(93448);let n=o.forwardRef((e,a)=>{let{className:r,type:o,...n}=e;return(0,t.jsx)("input",{type:o,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:a,...n})});n.displayName="Input"},75060:function(e,a,r){r.d(a,{_:function(){return s}});var t=r(57437),o=r(2265),i=r(6394),n=r(90535),d=r(93448);let l=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),s=o.forwardRef((e,a)=>{let{className:r,...o}=e;return(0,t.jsx)(i.f,{ref:a,className:(0,d.cn)(l(),r),...o})});s.displayName=i.f.displayName},43209:function(e,a,r){var t,o,i,n,d,l,s,c,u,p,m,g,x,f,h,b,y,v,N,w,j,E,A,S,C,T,k,F,R;r.d(a,{FA:function(){return h},Z5:function(){return n},iY:function(){return d},lI:function(){return o},oP:function(){return l}}),(b=t||(t={})).RTL="rtl",b.LTR="ltr",(y=o||(o={})).ENGLISH="en",y.ARABIC="ar",(i||(i={})).EN="en",(v=n||(n={})).ROOT="",v.MENU="menu",v.ABOUT="about",v.CONTACT="contact",v.AUTH="auth",v.CART="cart",v.PROFILE="profile",v.ADMIN="admin",v.PORTFOLIO="PORTFOLIO",v.SETTINGS="SETTINGS",(N=d||(d={})).LOGIN="/signin",N.Register="/signup",N.FORGOT_PASSWORD="forgot-password",N.CATEGORIES="categories",N.MENU_ITEMS="menu-items",N.USERS="users",N.ORDERS="orders",N.NEW="new",N.EDIT="edit",N.DASHBOARD="Dashboard",N.CUSTOMERS="Customers",N.SALES="Sales",N.PRODUCTS="PRODUCTS",N.LOGOUT="LOGOUT",(w=l||(l={})).TEXT="text",w.PASSWORD="password",w.EMAIL="email",w.NUMBER="number",w.DATE="date",w.TIME="time",w.DATETIME_LOCAL="datetime-local",w.RADIO="radio",w.SELECT="select",w.TEXTAREA="textarea",w.FILE="file",w.COLOR="color",w.CHECKBOX="checkbox",w.RANGE="range",w.TEL="tel",w.URL="url",w.SEARCH="search",w.SUBMIT="submit",w.WEEK="week",w.MULTI_SELECT="multi-select",w.HIDDEN="hidden",w.BUTTON="button",(j=s||(s={})).NEXT="next",j.PREV="prev",(E=c||(c={})).SUCCESS="success",E.ERROR="error",E.WARNING="warning",E.INFO="info",(A=u||(u={})).ASC="asc",A.DESC="desc",(S=p||(p={})).NAME="name",S.CREATED_AT="created_at",S.UPDATED_AT="updated_at",S.EMAIL="email",S.PHONE="phone",S.STATUS="status",S.STATUS_DATE="status_date",S.END_DATE="end_date",(C=m||(m={})).LOGIN_SUCCESS="login_success",C.LOGOUT_SUCCESS="logout_success",C.REGISTER_SUCCESS="register_success",C.FORGOT_PASSWORD="forgot_password",C.RESET_PASSWORD="reset_password",C.CHECK_EMAIL="check_email",C.VERIFY_EMAIL="verify_email",(T=g||(g={})).GET="GET",T.POST="POST",T.PUT="PUT",T.PATCH="PATCH",T.DELETE="DELETE",(k=x||(x={})).PROD="production",k.DEV="development",(F=f||(f={})).ADMIN="ADMIN",F.USER="USER",(R=h||(h={})).FullStack="FullStack",R.Backend="Backend",R.Frontend="Frontend",R.UI="UI",R.UX="UX"},94279:function(e,a,r){var t=r(43209);let o={email:{label:"Email Address",name:"email",type:"email",placeholder:"Enter your email",pattern:"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",ariaLabel:"Email address"},password:{label:"Password",name:"password",type:"password",placeholder:"Enter your password",ariaLabel:"Password"},name:{label:"Full Name",name:"name",type:"text",placeholder:"Enter your full name",ariaLabel:"Full name"},confirmPassword:{label:"Confirm Password",name:"confirmPassword",type:"password",placeholder:"Confirm your password",ariaLabel:"Confirm password"},phone:{label:"Phone Number",name:"phone",type:"tel",placeholder:"Enter your phone number",pattern:"^\\+?[1-9]\\d{1,14}$",ariaLabel:"Phone number"},productName:{label:"Product Name",name:"name",type:"text",placeholder:"Enter product name",ariaLabel:"Product name"},description:{label:"Description",name:"description",type:"text",placeholder:"Enter product description",ariaLabel:void 0,pattern:void 0},liveDemoLink:{label:"Live Demo Link (optional)",name:"liveDemoLink",type:"url",placeholder:"https://example.com",pattern:"^https?://.*",ariaLabel:"Live demo link"},gitHubLink:{label:"GitHub Link (optional)",name:"gitHubLink",type:"url",placeholder:"https://github.com/user/repo",pattern:"^https?://(www\\.)?github\\.com/[\\w-]+/[\\w-]+",ariaLabel:"GitHub repository link"}};a.Z=e=>{let{slug:a}=e,r=()=>[{...o.email,autoFocus:!0},{...o.password}],i=()=>[{...o.name,autoFocus:!0},{...o.email},{...o.password},{...o.confirmPassword}],n=()=>[{...o.name,autoFocus:!0},{...o.email},{...o.phone},{...o.streetAddress},{...o.postalCode},{...o.city},{...o.country}],d=()=>[{...o.productName,autoFocus:!0},{...o.description},{...o.liveDemoLink},{...o.gitHubLink}];return{getFormFields:()=>{switch(a){case t.iY.LOGIN:return r();case t.iY.Register:return i();case t.Z5.PROFILE:return n();case"".concat(t.Z5.ADMIN,"/").concat(t.iY.MENU_ITEMS):return d();default:return console.warn("[useFormFields] Unknown slug: ".concat(a)),[]}}}}},93448:function(e,a,r){r.d(a,{cn:function(){return i}});var t=r(61994),o=r(53335);function i(){for(var e=arguments.length,a=Array(e),r=0;r<e;r++)a[r]=arguments[r];return(0,o.m6)((0,t.W)(a))}}}]);