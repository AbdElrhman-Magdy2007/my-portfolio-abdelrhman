exports.id=279,exports.ids=[279],exports.modules={10582:(e,r,s)=>{"use strict";s.d(r,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\raya\\\\ShoppingCart\\\\portfolio - Copy - Copy - Copy\\\\src\\\\app\\\\admin\\\\_components\\\\AdminTabs.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy\\src\\app\\admin\\_components\\AdminTabs.tsx","default")},22389:(e,r,s)=>{"use strict";s.d(r,{i:()=>f,$:()=>x});var a=s(67218);s(79130);var t=s(31183),i=s(5486),o=s.n(i),n=s(58111),d=s(62351),l=s(84113),m=s(45697);let u={requiredEmail:"Email is required",validEmail:"Invalid email format",requiredPassword:"Password is required",passwordMinLength:"Password must be at least 6 characters",passwordMaxLength:"Password must be less than 40 characters",requiredName:"Name is required",nameMaxLength:"Name must be less than 50 characters",requiredConfirmPassword:"Password confirmation is required",passwordsDoNotMatch:"Passwords do not match",validLimit:"Limit must be a positive integer",limitMax:"Limit must be 100 or less"},c=e=>({isValid:e.password===e.confirmPassword,issue:{message:u.passwordsDoNotMatch,path:["confirmPassword"]}}),p=()=>m.z.object({email:m.z.string().trim().min(1,{message:u.requiredEmail}).email({message:u.validEmail}).transform(e=>e.toLowerCase()),password:m.z.string().min(1,{message:u.requiredPassword}).min(6,{message:u.passwordMinLength}).max(40,{message:u.passwordMaxLength})}),g=()=>m.z.object({name:m.z.string().trim().min(1,{message:u.requiredName}).max(50,{message:u.nameMaxLength}),email:m.z.string().trim().min(1,{message:u.requiredEmail}).email({message:u.validEmail}).transform(e=>e.toLowerCase()),password:m.z.string().min(1,{message:u.requiredPassword}).min(6,{message:u.passwordMinLength}).max(40,{message:u.passwordMaxLength}),confirmPassword:m.z.string().min(1,{message:u.requiredConfirmPassword}),limit:m.z.number().int().min(1,{message:u.validLimit}).max(100,{message:u.limitMax}).default(1)}).refine(e=>c(e).isValid,e=>c(e).issue);var b=s(17478);let f=async(e,r)=>{if(!e?.email||!e?.password)return{status:400,message:"Email and password are required",className:"text-red-500"};let s=p().safeParse(e);if(!s.success)return{status:400,error:s.error.formErrors.fieldErrors,className:"text-red-500"};try{let e=await t.db.user.findUnique({where:{email:s.data.email},select:{id:!0,email:!0,name:!0,password:!0,role:!0,createdAt:!0,updatedAt:!0}});if(!e)return{status:401,message:"User not found",className:"text-red-500"};if(!await o().compare(s.data.password,e.password))return{status:401,message:"Incorrect password",className:"text-red-500"};let{password:r,...a}=e;return{status:200,message:"Login successful",user:a,className:"text-green-500"}}catch(e){return console.error("❌ Login Error:",{error:e instanceof Error?e.message:String(e),timestamp:new Date().toISOString()}),{status:500,message:"An unexpected error occurred",error:e instanceof Error?e.message:"Unknown error",className:"text-red-500"}}},x=async(e,r)=>{let s=Object.fromEntries(r.entries()),a=g().safeParse(s);if(!a.success)return{status:400,error:a.error.formErrors.fieldErrors,formData:r,className:"text-red-500"};try{if(await t.db.user.findUnique({where:{email:a.data.email},select:{id:!0}}))return{status:409,message:"User already exists",formData:r,className:"text-red-500"};let e=await o().hash(a.data.password,10),s=await t.db.user.create({data:{id:(0,l.A)(),name:a.data.name,email:a.data.email,password:e,role:"USER"},select:{id:!0,name:!0,email:!0,role:!0}}),i=`/${n.BV.ADMIN}`;return(0,d.revalidatePath)(`${i}/${n.bQ.USERS}/${s.id}/${n.bQ.EDIT}`),(0,d.revalidatePath)(`${i}/${n.bQ.USERS}`),{status:201,message:"Registration successful",user:s,className:"text-green-500"}}catch(e){return console.error("❌ Signup Error:",{error:e instanceof Error?e.message:String(e),timestamp:new Date().toISOString()}),{status:500,message:"An unexpected error occurred",error:e instanceof Error?e.message:"Unknown error",className:"text-red-500"}}};(0,b.D)([f,x]),(0,a.A)(f,"7f352f0c2dbdd72632c60ad0240416af8626ac3e4e",null),(0,a.A)(x,"7f27dd15307f837fa3bd608d6b28f42173d4d53317",null)},31183:(e,r,s)=>{"use strict";s.d(r,{db:()=>t});var a=s(96330);let t=global.prisma||new a.PrismaClient;new a.PrismaClient},33169:(e,r,s)=>{"use strict";s.d(r,{N:()=>d});var a=s(58111),t=s(13581),i=s(60890),o=s(31183),n=s(22389);let d={adapter:(0,i.y)(o.db),providers:[(0,t.A)({name:"Credentials",credentials:{email:{label:"Email",type:"email",placeholder:"example@email.com"},password:{label:"Password",type:"password"}},async authorize(e,r){if(!e)throw Error("No credentials provided");let s=await (0,n.i)(e,a.AT.ENGLISH);if(200===s.status&&s.user)return s.user;throw Error(JSON.stringify({validationError:s.error,responseError:s.message}))}})],callbacks:{async jwt({token:e}){if(!e.email)return e;let r=await o.db.user.findUnique({where:{email:e.email}});return r?{id:r.id,name:r.name,email:r.email,role:r.role,image:r.image,phone:r.phone,country:r.country,city:r.city,postalCode:r.postalCode,streetAddress:r.streetAddress}:e},session:({session:e,token:r})=>(r&&(e.user={...e.user,id:r.id,name:r.name,email:r.email,role:r.role,image:r.image,phone:r.phone,country:r.country,city:r.city,postalCode:r.postalCode,streetAddress:r.streetAddress}),e)},session:{strategy:"jwt",maxAge:604800,updateAge:86400},pages:{signIn:`/${a.BV.AUTH}/${a.bQ.LOGIN}`},secret:process.env.NEXTAUTH_SECRET,debug:"production"===a.B5.DEV}},48963:(e,r,s)=>{Promise.resolve().then(s.bind(s,96668))},58111:(e,r,s)=>{"use strict";s.d(r,{AT:()=>a,B5:()=>o,BV:()=>t,bQ:()=>i});var a=function(e){return e.ENGLISH="en",e.ARABIC="ar",e}({}),t=function(e){return e.ROOT="",e.MENU="menu",e.ABOUT="about",e.CONTACT="contact",e.AUTH="auth",e.CART="cart",e.PROFILE="profile",e.ADMIN="admin",e.PORTFOLIO="PORTFOLIO",e.SETTINGS="SETTINGS",e}({}),i=function(e){return e.LOGIN="/signin",e.Register="/signup",e.FORGOT_PASSWORD="forgot-password",e.CATEGORIES="categories",e.MENU_ITEMS="menu-items",e.USERS="users",e.ORDERS="orders",e.NEW="new",e.EDIT="edit",e.DASHBOARD="Dashboard",e.CUSTOMERS="Customers",e.SALES="Sales",e.PRODUCTS="PRODUCTS",e.LOGOUT="LOGOUT",e}({}),o=function(e){return e.PROD="production",e.DEV="development",e}({})},72939:(e,r,s)=>{Promise.resolve().then(s.bind(s,10582))},96668:(e,r,s)=>{"use strict";s.d(r,{default:()=>c});var a=s(60687),t=s(43210),i=s(16189),o=s(29523),n=s(75109),d=s(49384),l=s(85814),m=s.n(l);let u=(0,t.memo)(()=>{let e=(0,i.usePathname)(),r=[{id:"tab-profile",title:"Profile",href:`${n.BV.ADMIN}`},{id:"tab-categories",title:"Categories",href:`${n.BV.ADMIN}/${n.bQ.CATEGORIES}`},{id:"tab-menu-items",title:"Menu Items",href:`${n.BV.ADMIN}/${n.bQ.MENU_ITEMS}`},{id:"tab-users",title:"Users",href:`${n.BV.ADMIN}/${n.bQ.USERS}`}],s=(0,t.useMemo)(()=>r=>r===n.BV.ADMIN?(e??"")===`/${r}`:(e??"").startsWith(`/${r}`),[e]);return(0,a.jsx)("nav",{className:(0,d.A)("bg-gray-50 dark:bg-gray-900 shadow-md dark:shadow-black/40","py-4 px-6 sm:px-8 lg:px-12","rounded-lg max-w-7xl mx-auto","border border-gray-200 dark:border-gray-700"),"aria-label":"Admin Navigation",children:(0,a.jsx)("ul",{role:"tablist",className:"flex flex-wrap justify-center gap-6 max-w-5xl mx-auto",children:r.map(e=>{let r=s(e.href);return(0,a.jsx)("li",{role:"presentation",className:"relative group",children:(0,a.jsxs)(m(),{href:`/${e.href}`,role:"tab","aria-current":r?"page":void 0,className:(0,d.A)((0,o.r)({variant:r?"default":"outline",size:"lg"}),"relative px-7 py-3 font-semibold text-base tracking-wider","transition duration-300 ease-in-out","rounded-lg shadow-sm",r?"bg-blue-600 text-white shadow-blue-500/40":"bg-transparent text-blue-700 dark:text-blue-300 border-blue-300 dark:border-blue-700 hover:bg-blue-100 dark:hover:bg-blue-800","focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-blue-400 focus-visible:ring-opacity-60"),children:[(0,a.jsx)("span",{className:"relative z-10",children:e.title}),!r&&(0,a.jsx)("span",{"aria-hidden":"true",className:(0,d.A)("absolute inset-0 rounded-lg bg-gradient-to-r from-blue-100 to-blue-200 opacity-0 group-hover:opacity-30 dark:from-blue-800 dark:to-blue-900","transition-opacity duration-300 ease-in-out pointer-events-none")})]})},e.id)})})})});u.displayName="AdminTabs";let c=u},99111:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c});var a=s(37413),t=s(67218);s(79130);var i=s(96330),o=s(19854),n=s(39916),d=s(75986),l=s(33169),m=s(10582);async function u(){let e=await (0,o.getServerSession)(l.N);return e?.user&&e.user.role===i.UserRole.ADMIN||(0,n.redirect)("/auth/login"),e}async function c({children:e}){return await u(),(0,a.jsxs)("div",{className:(0,d.A)("flex flex-col min-h-screen bg-background dark","transition-colors duration-300"),children:[(0,a.jsx)("header",{className:(0,d.A)("glass-card","supports-[backdrop-filter]:backdrop-blur-md","shadow-md border-b border-border/50","py-4"),"aria-label":"Admin Dashboard Header",children:(0,a.jsxs)("div",{className:"container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsx)("h1",{className:(0,d.A)("text-2xl sm:text-3xl font-heading font-bold text-gradient-primary animate-reveal-text pb-16","mb-4 text-center")}),(0,a.jsx)(m.default,{})]})}),(0,a.jsx)("main",{className:(0,d.A)("flex-grow container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8","text-foreground"),children:(0,a.jsx)("div",{className:"relative glass-card p-6 rounded-xl",children:e})})]})}(0,s(17478).D)([c]),(0,t.A)(c,"404822c2f91e1d57cbb788c9306246108f63d06047",null)}};