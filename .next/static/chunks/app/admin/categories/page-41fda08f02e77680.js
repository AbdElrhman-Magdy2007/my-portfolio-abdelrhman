(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6631],{8157:(e,a,t)=>{"use strict";t.d(a,{default:()=>f});var r=t(95155),o=t(30285),s=t(62523),d=t(85057),i=t(87481),n=t(12115),l=t(34477);let c=(0,l.createServerReference)("60c9704b7d6d136437a26598ab4c25620851fe0b60",l.callServer,void 0,l.findSourceMapURL,"addCategory");var g=t(94631),u=t(52596);let m={message:"",error:{},status:null},f=function(){var e;let[a,t,l]=(0,n.useActionState)(c,m);(0,n.useEffect)(()=>{a.message&&((0,i.oR)({title:a.message,className:201===a.status?"text-emerald-400":"text-red-400"}),console.log("Category Action Response:",{message:a.message,status:a.status,error:a.error}))},[a.message,a.status,a.error]);let f=async e=>(console.log("Submitted Category Name:",e.get("categoryName")),await t(e));return(0,r.jsx)("div",{className:(0,u.A)("glass-card p-6 border border-indigo-600/20 bg-slate-800/30","rounded-xl animate-reveal-text delay-200"),children:(0,r.jsx)("form",{action:f,className:"space-y-4",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.J,{htmlFor:"categoryName",className:(0,u.A)("text-indigo-100 font-semibold text-lg","text-gradient-primary animate-glow"),children:"Category Name"}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(s.p,{type:"text",name:"categoryName",id:"categoryName",placeholder:"Enter category name",className:(0,u.A)("search-input bg-slate-900/50 text-indigo-100 placeholder-indigo-300/50","border-indigo-500/30 focus:ring-indigo-400 focus:border-indigo-400","transition-all duration-300 rounded-md")}),(0,r.jsx)(o.$,{type:"submit",size:"lg",disabled:l,className:(0,u.A)("btn-primary bg-indigo-600 hover:bg-indigo-500 text-white","flex items-center gap-2 animate-glow",l&&"opacity-70 cursor-not-allowed"),children:l?(0,r.jsx)(g.A,{className:"animate-spin w-5 h-5"}):"Create"})]}),(null==(e=a.error)?void 0:e.name)&&(0,r.jsx)("p",{className:(0,u.A)("text-sm text-red-400 font-medium","animate-reveal-text delay-300"),children:a.error.name})]})})})}},9995:(e,a,t)=>{"use strict";t.d(a,{default:()=>E});var r=t(95155),o=t(12115),s=t(56671),d=t(34477);let i=(0,d.createServerReference)("701b6d7b8ca8eb585ee0737df81fd043eb2871a6a9",d.callServer,void 0,d.findSourceMapURL,"updateCategory");var n=t(30285),l=t(15452),c=t(54416),g=t(59434);let u=l.bL,m=l.l9,f=l.ZL;l.bm;let x=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)(l.hJ,{ref:a,className:(0,g.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...o})});x.displayName=l.hJ.displayName;let b=o.forwardRef((e,a)=>{let{className:t,children:o,...s}=e;return(0,r.jsxs)(f,{children:[(0,r.jsx)(x,{}),(0,r.jsxs)(l.UC,{ref:a,className:(0,g.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s,children:[o,(0,r.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(c.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});b.displayName=l.UC.displayName;let p=e=>{let{className:a,...t}=e;return(0,r.jsx)("div",{className:(0,g.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};p.displayName="DialogHeader";let h=e=>{let{className:a,...t}=e;return(0,r.jsx)("div",{className:(0,g.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};h.displayName="DialogFooter";let y=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)(l.hE,{ref:a,className:(0,g.cn)("text-lg font-semibold leading-none tracking-tight",t),...o})});y.displayName=l.hE.displayName,o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)(l.VY,{ref:a,className:(0,g.cn)("text-sm text-muted-foreground",t),...o})}).displayName=l.VY.displayName;var v=t(62523),N=t(85057),w=t(13717),j=t(94631),k=t(52596);let S={message:"",error:{},status:null},A=function(e){var a,t,d;let{category:l}=e,[c,g]=(0,o.useState)(S),[f,x]=(0,o.useState)(!1),[A,C]=(0,o.useState)(!1);(0,o.useEffect)(()=>{c.message&&c.status&&(s.oR.dismiss("category-update-loading"),(0,s.oR)(c.message,{style:{borderRadius:"0.5rem",padding:"0.75rem 1rem",border:"1px solid",fontSize:"0.875rem",fontWeight:"500",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",...200===c.status?{backgroundColor:"#f0fdf4",color:"#15803d",borderColor:"#bbf7d0"}:{backgroundColor:"#fef2f2",color:"#b91c1c",borderColor:"#fecaca"},...200===c.status?{".dark &":{backgroundColor:"#14532d",color:"#bbf7d0",borderColor:"#15803d"}}:{".dark &":{backgroundColor:"#7f1d1d",color:"#fecaca",borderColor:"#b91c1c"}}},duration:3e3,position:"top-right"}),200===c.status&&(C(!1),g(S)))},[c.message,c.status]);let R=(0,o.useCallback)(async e=>{e.preventDefault(),x(!0);let a=new FormData(e.currentTarget);try{s.oR.loading("Saving...",{id:"category-update-loading",style:{borderRadius:"0.5rem",padding:"0.75rem 1rem",backgroundColor:"#f3f4f6",color:"#374151",border:"1px solid #e5e7eb",fontSize:"0.875rem",fontWeight:"500",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},duration:1/0});let e=await i(l.id,S,a);g(e),x(!1)}catch(e){x(!1),s.oR.dismiss("category-update-loading"),s.oR.error("An unexpected error occurred",{style:{borderRadius:"0.5rem",padding:"0.75rem 1rem",backgroundColor:"#fef2f2",color:"#b91c1c",border:"1px solid #fecaca",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},duration:3e3})}},[l.id]);return(0,r.jsxs)(u,{open:A,onOpenChange:e=>{C(e),e&&g(S)},children:[(0,r.jsx)(m,{asChild:!0,children:(0,r.jsx)(n.$,{variant:"outline",size:"icon","aria-label":"Edit category",className:(0,k.A)("border-indigo-600 text-indigo-600 dark:border-indigo-800 dark:text-indigo-400","hover:bg-indigo-900 hover:text-indigo-100 dark:hover:bg-indigo-900/50 dark:hover:text-indigo-200","transition-all duration-300 ease-in-out transform hover:scale-105","shadow-sm hover:shadow-md"),children:(0,r.jsx)(w.A,{className:"h-4 w-4"})})}),(0,r.jsxs)(b,{className:(0,k.A)("bg-black dark:bg-gray-900 rounded-xl shadow-2xl p-6 max-w-lg mx-auto","text-left","animate-in fade-in-50 duration-300"),children:[(0,r.jsx)(p,{children:(0,r.jsx)(y,{className:(0,k.A)("text-xl font-bold text-indigo-100 dark:text-indigo-200","text-left","relative after:content-[''] after:absolute after:bottom-0 after:left-0 after:h-1 after:w-12 after:bg-indigo-600 after:rounded"),children:"Edit Category"})}),(0,r.jsxs)("form",{onSubmit:R,className:"space-y-6 pt-6",children:[(0,r.jsxs)("div",{className:(0,k.A)("flex flex-col gap-4 sm:flex-row","text-left"),children:[(0,r.jsx)(N.J,{htmlFor:"categoryName",className:(0,k.A)("text-sm font-medium text-indigo-100 dark:text-gray-200","w-full sm:w-1/3 flex items-center"),children:"Name"}),(0,r.jsxs)("div",{className:"w-full sm:flex-1 space-y-2",children:[(0,r.jsx)(v.p,{type:"text",id:"categoryName",name:"categoryName",defaultValue:l.name,placeholder:"Enter category name",disabled:f,className:(0,k.A)("w-full rounded-lg border-indigo-600 dark:border-gray-600","bg-black/50 dark:bg-gray-800/50 text-indigo-100 dark:text-gray-100","focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500","transition-all duration-300 ease-in-out","hover:border-indigo-700","disabled:opacity-50 disabled:cursor-not-allowed",(null==(a=c.error)?void 0:a.categoryName)&&"border-red-500 animate-shake"),"aria-describedby":(null==(t=c.error)?void 0:t.categoryName)?"categoryName-error":void 0}),(null==(d=c.error)?void 0:d.categoryName)&&(0,r.jsxs)("p",{id:"categoryName-error",className:"text-sm text-red-500 dark:text-red-400 flex items-center gap-1 animate-fade-in","aria-live":"polite",children:[(0,r.jsx)("span",{className:"text-red-500",children:"âš "})," ",c.error.categoryName]})]})]}),(0,r.jsxs)(h,{className:(0,k.A)("flex flex-col sm:flex-row sm:gap-3","mt-6"),children:[(0,r.jsx)(n.$,{type:"button",variant:"outline",onClick:()=>C(!1),disabled:f,className:(0,k.A)("w-full sm:w-auto border-indigo-600 text-indigo-900 dark:border-gray-600 dark:text-gray-200","hover:bg-indigo-900 dark:hover:bg-gray-700 hover:text-indigo-100","transition-all duration-300 ease-in-out transform hover:scale-105","shadow-sm hover:shadow-md"),children:"Cancel"}),(0,r.jsx)(n.$,{type:"submit",disabled:f,className:(0,k.A)("w-full sm:w-auto bg-indigo-600 text-indigo-100 dark:bg-indigo-700 dark:text-indigo-200","hover:bg-indigo-700 dark:hover:bg-indigo-800","focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2","transition-all duration-300 ease-in-out transform hover:scale-105","shadow-md hover:shadow-lg",f&&"opacity-60 cursor-not-allowed",f&&"flex items-center gap-2"),"aria-label":f?"Saving...":"Save and close",children:f?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.A,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):"Save"})]})]})]})]})};var C=t(62525);let R=(0,d.createServerReference)("401c19917cc0a29e1c1a9a556384fc624a604c6edd",d.callServer,void 0,d.findSourceMapURL,"deleteCategory"),T=function(e){let{id:a}=e,[t,d]=(0,o.useTransition)(),[i,l]=(0,o.useState)(!1),c={success:{style:{backgroundColor:"#f0fdf4",color:"#15803d",border:"1px solid #bbf7d0",borderRadius:"8px",padding:"12px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",fontSize:"0.875rem",fontWeight:"500"},duration:3e3},error:{style:{backgroundColor:"#fef2f2",color:"#b91c1c",border:"1px solid #fecaca",borderRadius:"8px",padding:"12px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",fontSize:"0.875rem",fontWeight:"500"},duration:3e3},loading:{id:"category-delete-loading",style:{backgroundColor:"#f3f4f6",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"12px",fontSize:"0.875rem",fontWeight:"500"},duration:1/0}},g=(0,o.useCallback)(()=>{s.oR.loading("Deleting...",c.loading),d(async()=>{try{let e=await R(a);s.oR.dismiss(c.loading.id),(0,s.oR)(e.message||"Category deleted successfully",{...200===e.status?c.success:c.error}),200===e.status&&l(!1)}catch(e){s.oR.dismiss(c.loading.id),(0,s.oR)("An unexpected error occurred",c.error),console.error("Error deleting category:",e)}})},[a,c]);return(0,r.jsxs)(u,{open:i,onOpenChange:l,children:[(0,r.jsx)(m,{asChild:!0,children:(0,r.jsx)(n.$,{variant:"outline",size:"icon",disabled:t,className:(0,k.A)("border-red-600 text-red-600 dark:border-red-700 dark:text-red-500","bg-black dark:bg-gray-900","hover:bg-red-600 hover:text-white dark:hover:bg-red-700 dark:hover:text-white","active:bg-red-700 dark:active:bg-red-800",t&&"opacity-60 cursor-not-allowed","transition-all duration-300 ease-in-out","shadow-sm hover:shadow-md","[&>svg]:h-4 [&>svg]:w-4"),"aria-label":"Delete category",children:t?(0,r.jsx)(j.A,{className:"h-4 w-4 animate-spin text-red-600 dark:text-red-500"}):(0,r.jsx)(C.A,{className:"h-4 w-4"})})}),(0,r.jsxs)(b,{className:"bg-black dark:bg-gray-900 rounded-lg",children:[(0,r.jsxs)(p,{children:[(0,r.jsx)(y,{className:"text-indigo-100 dark:text-indigo-200",children:"Are you sure?"}),(0,r.jsx)("p",{className:"text-indigo-300 dark:text-indigo-400",children:"This action cannot be undone. The category will be permanently deleted."})]}),(0,r.jsxs)(h,{className:"flex flex-row gap-2 justify-end",children:[(0,r.jsx)(n.$,{variant:"outline",onClick:()=>l(!1),disabled:t,className:(0,k.A)("border-indigo-600 text-indigo-900 dark:border-gray-600 dark:text-gray-200","hover:bg-indigo-900 dark:hover:bg-gray-700 hover:text-indigo-100"),"aria-label":"Cancel",children:"Cancel"}),(0,r.jsx)(n.$,{onClick:g,className:(0,k.A)("bg-red-600 text-white dark:bg-red-700 dark:text-white","hover:bg-red-700 dark:hover:bg-red-800",t&&"opacity-60 cursor-not-allowed",t&&"flex items-center gap-2"),disabled:t,"aria-label":"Delete",children:t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.A,{className:"h-4 w-4 animate-spin"}),"Deleting..."]}):"Delete"})]})]})]})},E=async function(e){let{category:a}=e;return(0,r.jsxs)("li",{className:(0,k.A)("project-card glass-card p-4 rounded-lg flex justify-between items-center","bg-slate-800/30 border border-indigo-600/20","hover:shadow-2xl transition-all duration-300 animate-reveal-text delay-300","relative overflow-hidden"),children:[(0,r.jsxs)("div",{className:"particle-wave pointer-events-none",children:[(0,r.jsx)("div",{className:"particle",style:{width:"6px",height:"6px",top:"15%",left:"10%",animationDuration:"2.5s",animationDelay:"0.2s"}}),(0,r.jsx)("div",{className:"particle",style:{width:"5px",height:"5px",top:"75%",left:"85%",animationDuration:"3s",animationDelay:"0.7s"}})]}),(0,r.jsx)("h3",{className:(0,k.A)("text-indigo-100 font-medium text-lg flex-1","text-gradient-primary animate-glow"),children:a.name}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(A,{category:a}),(0,r.jsx)(T,{id:a.id})]})]})}},30285:(e,a,t)=>{"use strict";t.d(a,{$:()=>l,r:()=>n});var r=t(95155),o=t(12115),s=t(99708),d=t(74466),i=t(59434);let n=(0,d.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=o.forwardRef((e,a)=>{let{className:t,variant:o,size:d,asChild:l=!1,...c}=e,g=l?s.DX:"button";return(0,r.jsx)(g,{className:(0,i.cn)(n({variant:o,size:d,className:t})),ref:a,...c})});l.displayName="Button"},36450:(e,a,t)=>{Promise.resolve().then(t.bind(t,9995)),Promise.resolve().then(t.bind(t,8157))},59434:(e,a,t)=>{"use strict";t.d(a,{cn:()=>s});var r=t(52596),o=t(39688);function s(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,o.QP)((0,r.$)(a))}},62523:(e,a,t)=>{"use strict";t.d(a,{p:()=>d});var r=t(95155),o=t(12115),s=t(59434);let d=o.forwardRef((e,a)=>{let{className:t,type:o,...d}=e;return(0,r.jsx)("input",{type:o,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...d})});d.displayName="Input"},85057:(e,a,t)=>{"use strict";t.d(a,{J:()=>l});var r=t(95155),o=t(12115),s=t(40968),d=t(74466),i=t(59434);let n=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=o.forwardRef((e,a)=>{let{className:t,...o}=e;return(0,r.jsx)(s.b,{ref:a,className:(0,i.cn)(n(),t),...o})});l.displayName=s.b.displayName},87481:(e,a,t)=>{"use strict";t.d(a,{oR:()=>c}),t(12115);let r=0,o=new Map,s=e=>{if(o.has(e))return;let a=setTimeout(()=>{o.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,a)},d=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?s(t):e.toasts.forEach(e=>{s(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},i=[],n={toasts:[]};function l(e){n=d(n,e),i.forEach(e=>{e(n)})}function c(e){let{...a}=e,t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),o=()=>l({type:"DISMISS_TOAST",toastId:t});return l({type:"ADD_TOAST",toast:{...a,id:t,open:!0,onOpenChange:e=>{e||o()}}}),{id:t,dismiss:o,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:t}})}}}},e=>{var a=a=>e(e.s=a);e.O(0,[9352,6671,1976,2688,8441,1684,7358],()=>a(36450)),_N_E=e.O()}]);