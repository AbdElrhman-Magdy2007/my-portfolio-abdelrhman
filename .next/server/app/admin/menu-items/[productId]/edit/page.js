(()=>{var e={};e.id=663,e.ids=[663],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},67096:e=>{"use strict";e.exports=require("bcrypt")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},86624:e=>{"use strict";e.exports=require("querystring")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},7480:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>c.a,__next_app__:()=>u,originalPathname:()=>f,pages:()=>l,routeModule:()=>b,tree:()=>s}),r(42169),r(26612),r(57105),r(12523);var a=r(23191),o=r(88716),n=r(37922),c=r.n(n),d=r(95231),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);r.d(t,i);let s=["",{children:["admin",{children:["menu-items",{children:["[productId]",{children:["edit",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,42169)),"C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy - Copy\\src\\app\\admin\\menu-items\\[productId]\\edit\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,15377)),"C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy - Copy\\src\\app\\admin\\menu-items\\[productId]\\edit\\layout.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,26612)),"C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy - Copy\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,57105)),"C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy - Copy\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy - Copy\\src\\app\\not-found.tsx"]}],l=["C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy - Copy\\src\\app\\admin\\menu-items\\[productId]\\edit\\page.tsx"],f="/admin/menu-items/[productId]/edit/page",u={require:r,loadChunk:()=>Promise.resolve()},b=new a.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/admin/menu-items/[productId]/edit/page",pathname:"/admin/menu-items/[productId]/edit",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:s}})},25819:(e,t,r)=>{let a={"7bc7c69c29a380fd697f1d732081bf0ecee5f0d1":()=>Promise.resolve().then(r.bind(r,42169)).then(e=>e.generateStaticParams),d819fdcf1dcf4640a05194ce7de7a58256e4bfda:()=>Promise.resolve().then(r.bind(r,42169)).then(e=>e.default),"077626ce62748b71a8a8126496d60a2b89c09369":()=>Promise.resolve().then(r.bind(r,96539)).then(e=>e.getProductsByCategory),"13788e289adf665cc562ba408291f3bcdb9e4a70":()=>Promise.resolve().then(r.bind(r,96539)).then(e=>e.$$ACTION_2),"4a7dd986be4b12e7c749b49a2ffc9a40f8705221":()=>Promise.resolve().then(r.bind(r,96539)).then(e=>e.$$ACTION_4),"5ac7c564aba2fed963cb3b036de333b434752063":()=>Promise.resolve().then(r.bind(r,96539)).then(e=>e.getProductsCount),"61d533c3bd5da30cdab1c7f2a2fb9ce627ea56aa":()=>Promise.resolve().then(r.bind(r,96539)).then(e=>e.getBestSellers),"6601aa8b6736feb142225256dc47f895ef66a1c9":()=>Promise.resolve().then(r.bind(r,96539)).then(e=>e.getProductsByCategoryId),"71a58cfccdcb04366b8b659d3082fdfebf3021bf":()=>Promise.resolve().then(r.bind(r,96539)).then(e=>e.getProducts),"8f41c816a1193304c4d6d7cb59d48ec7893465a0":()=>Promise.resolve().then(r.bind(r,96539)).then(e=>e.$$ACTION_3),"9f38ecdd6c50298ed6edb4936d5e3ff1d842a653":()=>Promise.resolve().then(r.bind(r,96539)).then(e=>e.getAllProducts),e988462bfe030b3d1eed8aecbd6531be89333746:()=>Promise.resolve().then(r.bind(r,96539)).then(e=>e.$$ACTION_5),f0642d72a6cbda84d533a5c19494bad9a03d2707:()=>Promise.resolve().then(r.bind(r,96539)).then(e=>e.$$ACTION_0),fcd2fff9e93db1eeed0f9abc3f230e2625917faa:()=>Promise.resolve().then(r.bind(r,96539)).then(e=>e.$$ACTION_1),b09581104c347016ae942abd466de3c75e72236d:()=>Promise.resolve().then(r.bind(r,26612)).then(e=>e.default)};async function o(e,...t){return(await a[e]()).apply(null,t)}e.exports={"7bc7c69c29a380fd697f1d732081bf0ecee5f0d1":o.bind(null,"7bc7c69c29a380fd697f1d732081bf0ecee5f0d1"),d819fdcf1dcf4640a05194ce7de7a58256e4bfda:o.bind(null,"d819fdcf1dcf4640a05194ce7de7a58256e4bfda"),"077626ce62748b71a8a8126496d60a2b89c09369":o.bind(null,"077626ce62748b71a8a8126496d60a2b89c09369"),"13788e289adf665cc562ba408291f3bcdb9e4a70":o.bind(null,"13788e289adf665cc562ba408291f3bcdb9e4a70"),"4a7dd986be4b12e7c749b49a2ffc9a40f8705221":o.bind(null,"4a7dd986be4b12e7c749b49a2ffc9a40f8705221"),"5ac7c564aba2fed963cb3b036de333b434752063":o.bind(null,"5ac7c564aba2fed963cb3b036de333b434752063"),"61d533c3bd5da30cdab1c7f2a2fb9ce627ea56aa":o.bind(null,"61d533c3bd5da30cdab1c7f2a2fb9ce627ea56aa"),"6601aa8b6736feb142225256dc47f895ef66a1c9":o.bind(null,"6601aa8b6736feb142225256dc47f895ef66a1c9"),"71a58cfccdcb04366b8b659d3082fdfebf3021bf":o.bind(null,"71a58cfccdcb04366b8b659d3082fdfebf3021bf"),"8f41c816a1193304c4d6d7cb59d48ec7893465a0":o.bind(null,"8f41c816a1193304c4d6d7cb59d48ec7893465a0"),"9f38ecdd6c50298ed6edb4936d5e3ff1d842a653":o.bind(null,"9f38ecdd6c50298ed6edb4936d5e3ff1d842a653"),e988462bfe030b3d1eed8aecbd6531be89333746:o.bind(null,"e988462bfe030b3d1eed8aecbd6531be89333746"),f0642d72a6cbda84d533a5c19494bad9a03d2707:o.bind(null,"f0642d72a6cbda84d533a5c19494bad9a03d2707"),fcd2fff9e93db1eeed0f9abc3f230e2625917faa:o.bind(null,"fcd2fff9e93db1eeed0f9abc3f230e2625917faa"),b09581104c347016ae942abd466de3c75e72236d:o.bind(null,"b09581104c347016ae942abd466de3c75e72236d")}},40770:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,79404,23)),Promise.resolve().then(r.bind(r,75556))},35303:()=>{},79560:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(36478).Z)("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]])},15377:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,dynamic:()=>a});let a="force-dynamic";function o({children:e}){return e}},42169:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w,generateStaticParams:()=>P});var a=r(19510),o=r(24330);r(60166);var n=r(71159),c=r(79843),d=r(13538),i=r(96690),s=r(10911),l=r(57371),f=r(58585),u=r(56207),b=r(96539),p=r(40644);let m=n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,p.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));m.displayName="Card";let g=n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,p.cn)("flex flex-col space-y-1.5 p-6",e),...t}));g.displayName="CardHeader";let h=n.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:(0,p.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));h.displayName="CardTitle",n.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:(0,p.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let y=n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,p.cn)("p-6 pt-0",e),...t}));y.displayName="CardContent",n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,p.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter";let x=(0,r(46145).j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),I=n.forwardRef(({className:e,variant:t,...r},o)=>a.jsx("div",{ref:o,role:"alert",className:(0,p.cn)(x({variant:t}),e),...r}));I.displayName="Alert";let C=n.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:(0,p.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));C.displayName="AlertTitle";let E=n.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:(0,p.cn)("text-sm [&_p]:leading-relaxed",e),...t}));E.displayName="AlertDescription";var N=r(79560),_=r(55761),$=r(40618);let v="[EditProductPage]",T={INVALID_ID:"Invalid product ID provided",PRODUCT_NOT_FOUND:"Product not found",NO_CATEGORIES:"No categories available. Please create a category first."},D=()=>(0,c.Z)(),A=(0,n.cache)(async()=>{let e=D();console.log(`${v} [${e}] Fetching products`);try{let t=await (0,b.getProducts)();if("error"in t||!Array.isArray(t))return console.error(`${v} [${e}] Failed to fetch products:`,t?.error),[];return t}catch(t){return console.error(`${v} [${e}] Error fetching products:`,t),[]}}),O=(0,n.cache)(async()=>{let e=D();console.log(`${v} [${e}] Fetching categories`);try{let t=await (0,u.C)();if("error"in t||!Array.isArray(t))return console.error(`${v} [${e}] Failed to fetch categories:`,t?.error),[];return t}catch(t){return console.error(`${v} [${e}] Error fetching categories:`,t),[]}});async function P(){let e=D();console.log(`${v} [${e}] Generating static params`);try{return(await A()).map(e=>({productId:e.id}))}catch(t){return console.error(`${v} [${e}] Error in generateStaticParams:`,t),[]}}let S=(0,n.cache)(async e=>{let t=D();if(console.log(`${v} [${t}] Fetching product ID: ${e}`),!e||"string"!=typeof e)return console.warn(`${v} [${t}] ${T.INVALID_ID}`),null;try{let r=await d._.product.findUnique({where:{id:e},include:{ProductTech:{select:{id:!0,name:!0}},ProductAddon:{select:{id:!0,name:!0}},category:{select:{id:!0,name:!0,order:!0}},orders:{select:{id:!0}},downloadVerifications:{select:{id:!0}}}});return r||console.warn(`${v} [${t}] ${T.PRODUCT_NOT_FOUND}`),r}catch(e){return console.error(`${v} [${t}] Error fetching product:`,e),null}});async function w({params:e}){let t=D(),{productId:r}=await e;r&&"string"==typeof r||(console.error(`${v} [${t}] ${T.INVALID_ID}`),(0,f.notFound)());let[o,c]=await Promise.all([S(r),O()]);return(o||(console.error(`${v} [${t}] ${T.PRODUCT_NOT_FOUND}`),(0,f.notFound)()),c&&0!==c.length)?(0,a.jsxs)("main",{className:(0,_.Z)("min-h-screen bg-gradient-to-b from-slate-900 to-indigo-950","relative overflow-hidden py-12 px-4 sm:px-6 lg:px-8"),dir:"auto",children:[(0,a.jsxs)("div",{className:"particle-wave pointer-events-none",children:[a.jsx("div",{className:"particle",style:{width:"8px",height:"8px",top:"20%",left:"15%",animationDuration:"3s",animationDelay:"0.3s"}}),a.jsx("div",{className:"particle",style:{width:"6px",height:"6px",top:"70%",left:"80%",animationDuration:"2.5s",animationDelay:"0.8s"}})]}),a.jsx(n.Suspense,{fallback:a.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:a.jsx(N.Z,{className:"w-8 h-8 text-indigo-200 animate-spin"})}),children:a.jsx("section",{className:"max-w-5xl mx-auto",children:(0,a.jsxs)(m,{className:(0,_.Z)("glass-card bg-slate-800/30 border-indigo-600/30 shadow-lg","rounded-xl animate-reveal-text delay-200"),children:[a.jsx(g,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)(h,{className:(0,_.Z)("text-3xl font-bold text-indigo-200","text-gradient-primary animate-glow"),children:["Edit Product: ",o.name]}),a.jsx(l.default,{href:`/${i.Z5.ADMIN}/${i.iY.MENU_ITEMS}`,className:(0,_.Z)("btn-secondary text-indigo-100 font-semibold","hover:text-indigo-50 transition-colors duration-300"),"aria-label":"Return to menu items",children:"Back to Menu Items"})]})}),a.jsx(y,{children:a.jsx(s.ZP,{product:o,categories:c})})]})})})]}):(console.error(`${v} [${t}] ${T.NO_CATEGORIES}`),(0,a.jsxs)("main",{className:(0,_.Z)("min-h-screen bg-gradient-to-b from-slate-900 to-indigo-950","relative overflow-hidden flex items-center justify-center p-6"),dir:"auto",children:[(0,a.jsxs)("div",{className:"particle-wave pointer-events-none",children:[a.jsx("div",{className:"particle",style:{width:"8px",height:"8px",top:"20%",left:"15%",animationDuration:"3s",animationDelay:"0.3s"}}),a.jsx("div",{className:"particle",style:{width:"6px",height:"6px",top:"70%",left:"80%",animationDuration:"2.5s",animationDelay:"0.8s"}})]}),(0,a.jsxs)(I,{variant:"destructive",className:(0,_.Z)("max-w-md glass-card border-indigo-600/30 bg-slate-800/30","animate-reveal-text delay-200"),children:[a.jsx(C,{className:(0,_.Z)("text-indigo-200 text-2xl font-bold","text-gradient-primary animate-glow"),children:"No Categories Available"}),a.jsx(E,{className:"text-red-400 text-lg",children:T.NO_CATEGORIES}),a.jsx(l.default,{href:`/${i.Z5.ADMIN}/${i.iY.CATEGORIES}`,className:(0,_.Z)("mt-4 inline-block btn-secondary text-indigo-100 font-semibold","hover:text-indigo-50 transition-colors duration-300"),"aria-label":"Navigate to categories management",children:"Go to Categories"})]})]}))}(0,$.h)([P,w]),(0,o.j)("7bc7c69c29a380fd697f1d732081bf0ecee5f0d1",P),(0,o.j)("d819fdcf1dcf4640a05194ce7de7a58256e4bfda",w)},96539:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$ACTION_0:()=>h,$$ACTION_1:()=>x,$$ACTION_2:()=>C,$$ACTION_3:()=>N,$$ACTION_4:()=>$,$$ACTION_5:()=>T,getAllProducts:()=>g,getBestSellers:()=>E,getProducts:()=>y,getProductsByCategory:()=>_,getProductsByCategoryId:()=>v,getProductsCount:()=>I});var a=r(24330);r(60166);var o=r(71159),n=r(79843),c=r(13538),d=r(57708),i=r(40618);let s="[Products]",l="name",f={INVALID_PAGE:"Page number must be positive",INVALID_LIMIT:"Limit must be non-negative",INVALID_CATEGORY_ID:"Category ID is required",NO_PRODUCTS:"No products found",NO_BEST_SELLERS:"No best-selling products found",NO_CATEGORIES:"No categories found",FETCH_FAILED:"Failed to fetch data"},u=()=>(0,n.Z)(),b={category:{select:{id:!0,name:!0,order:!0}},ProductTech:{select:{id:!0,name:!0,productId:!0}},ProductAddon:{select:{id:!0,name:!0,productId:!0}},orders:{select:{id:!0,quantity:!0,productId:!0,orderId:!0}},downloadVerifications:{select:{id:!0}}},p=e=>{if(!e)return!1;try{return new URL(e),!e.includes("/admin/")}catch{return!1}},m=e=>e.replace(/[ممممممممتتتdggfjgjgh]+/g,"").trim()||"Unnamed Category",g=(0,o.cache)((0,a.j)("f0642d72a6cbda84d533a5c19494bad9a03d2707",h));async function h(){let e=u();console.log(`${s} [${e}] Fetching all products`);try{let t=await c._.product.findMany({include:b,orderBy:{name:"asc"}});return console.log(`${s} [${e}]`,{action:"FETCH_ALL",count:t.length,cache:t.length>0?"MISS":"HIT",timestamp:new Date().toISOString()}),t.length>0?t:{error:f.NO_PRODUCTS,code:"NO_PRODUCTS",details:"The database contains no products"}}catch(t){return console.error(`${s} [${e}] Error fetching products:`,t),{error:f.FETCH_FAILED,code:t instanceof Error&&t.message.includes("connection")?"DB_CONNECTION_FAILED":"FETCH_FAILED",details:t instanceof Error?t.message:String(t)}}}let y=(0,o.cache)((0,a.j)("fcd2fff9e93db1eeed0f9abc3f230e2625917faa",x));async function x(e={}){let t=u();console.log(`${s} [${t}] Fetching products with options:`,e);try{let{page:r=1,limit:a=0,search:o,sortBy:n=l,order:d="asc"}=e;if(r<1)throw Error(f.INVALID_PAGE);if(a<0)throw Error(f.INVALID_LIMIT);let i=o?.trim(),u=await c._.product.findMany({where:{name:i?{contains:i,mode:"insensitive"}:void 0},include:b,orderBy:{[n]:d},skip:a>0?(r-1)*a:0,take:a>0?a:void 0});return console.log(`${s} [${t}]`,{action:"FETCH_FILTERED",count:u.length,options:e,cache:u.length>0?"MISS":"HIT",timestamp:new Date().toISOString()}),u.length>0?u:{error:f.NO_PRODUCTS,code:"NO_PRODUCTS",details:"No products match the provided criteria"}}catch(e){return console.error(`${s} [${t}] Error fetching products:`,e),{error:f.FETCH_FAILED,code:e instanceof Error&&e.message.includes("connection")?"DB_CONNECTION_FAILED":"FETCH_FAILED",details:e instanceof Error?e.message:String(e)}}}let I=(0,o.cache)((0,a.j)("13788e289adf665cc562ba408291f3bcdb9e4a70",C));async function C(e={}){let t=u();console.log(`${s} [${t}] Counting products with search:`,e.search);try{let r=e.search?.trim(),a=await c._.product.count({where:{name:r?{contains:r,mode:"insensitive"}:void 0}});return console.log(`${s} [${t}]`,{action:"COUNT",count:a,cache:a>0?"MISS":"HIT",timestamp:new Date().toISOString()}),a}catch(e){return console.error(`${s} [${t}] Error counting products:`,e),{error:f.FETCH_FAILED,code:e instanceof Error&&e.message.includes("connection")?"DB_CONNECTION_FAILED":"FETCH_FAILED",details:e instanceof Error?e.message:String(e)}}}let E=(0,o.cache)((0,a.j)("8f41c816a1193304c4d6d7cb59d48ec7893465a0",N));async function N(e){let t=u();console.log(`${s} [${t}] Fetching best sellers with limit:`,e);try{if(e&&e<1)throw Error(f.INVALID_LIMIT);let r=await c._.product.findMany({where:{orders:{some:{}}},orderBy:{orders:{_count:"desc"}},include:b,take:e});return console.log(`${s} [${t}]`,{action:"FETCH_BEST_SELLERS",count:r.length,cache:r.length>0?"MISS":"HIT",timestamp:new Date().toISOString()}),r.length>0?r:{error:f.NO_BEST_SELLERS,code:"NO_BEST_SELLERS",details:"No products with orders exist"}}catch(e){return console.error(`${s} [${t}] Error fetching best sellers:`,e),{error:f.FETCH_FAILED,code:e instanceof Error&&e.message.includes("connection")?"DB_CONNECTION_FAILED":"FETCH_FAILED",details:e instanceof Error?e.message:String(e)}}}let _=(0,o.cache)((0,a.j)("4a7dd986be4b12e7c749b49a2ffc9a40f8705221",$));async function $(){let e=u();console.log(`${s} [${e}] Fetching categories with products`);try{let t=(await c._.category.findMany({include:{products:{include:b,orderBy:{name:"asc"}}},orderBy:{order:"asc"}})).map(e=>({...e,name:m(e.name),products:e.products}));return t.forEach(t=>{console.log(`${s} [${e}] Category: ${t.name}`,{categoryId:t.id,productCount:t.products.length,products:t.products.map(e=>({id:e.id,name:e.name,liveDemoLink:e.liveDemoLink,gitHubLink:e.gitHubLink,validLiveDemo:p(e.liveDemoLink),validGitHub:p(e.gitHubLink),addons:e.ProductAddon?.map(e=>e.name)||[],techs:e.ProductTech?.map(e=>e.name)||[]}))})}),console.log(`${s} [${e}]`,{action:"FETCH_CATEGORIES",categoryCount:t.length,productCount:t.reduce((e,t)=>e+t.products.length,0),cache:t.length>0?"MISS":"HIT",timestamp:new Date().toISOString()}),(0,d.revalidatePath)("/projects"),t.length>0?t:{error:f.NO_CATEGORIES,code:"NO_CATEGORIES",details:"The database contains no categories"}}catch(t){return console.error(`${s} [${e}] Error fetching categories:`,t),{error:f.FETCH_FAILED,code:t instanceof Error&&t.message.includes("connection")?"DB_CONNECTION_FAILED":"FETCH_FAILED",details:t instanceof Error?t.message:String(t)}}}let v=(0,o.cache)((0,a.j)("e988462bfe030b3d1eed8aecbd6531be89333746",T));async function T(e,t={}){let r=u();console.log(`${s} [${r}] Fetching products for category ID: ${e}`);try{if(!e)throw Error(f.INVALID_CATEGORY_ID);let{page:a=1,limit:o=0,search:n,sortBy:d=l,order:i="asc"}=t;if(a<1)throw Error(f.INVALID_PAGE);if(o<0)throw Error(f.INVALID_LIMIT);let u=n?.trim(),p=await c._.product.findMany({where:{categoryId:e,name:u?{contains:u,mode:"insensitive"}:void 0},include:b,orderBy:{[d]:i},skip:o>0?(a-1)*o:0,take:o>0?o:void 0});return console.log(`${s} [${r}]`,{action:"FETCH_BY_CATEGORY",categoryId:e,count:p.length,options:t,cache:p.length>0?"MISS":"HIT",timestamp:new Date().toISOString()}),p.length>0?p:{error:f.NO_PRODUCTS,code:"NO_PRODUCTS",details:`No products found for category ID ${e}`}}catch(e){return console.error(`${s} [${r}] Error fetching products by category:`,e),{error:f.FETCH_FAILED,code:e instanceof Error&&e.message.includes("connection")?"DB_CONNECTION_FAILED":"FETCH_FAILED",details:e instanceof Error?e.message:String(e)}}}(0,i.h)([g,y,I,E,_,v]),(0,a.j)("9f38ecdd6c50298ed6edb4936d5e3ff1d842a653",g),(0,a.j)("71a58cfccdcb04366b8b659d3082fdfebf3021bf",y),(0,a.j)("5ac7c564aba2fed963cb3b036de333b434752063",I),(0,a.j)("61d533c3bd5da30cdab1c7f2a2fb9ce627ea56aa",E),(0,a.j)("077626ce62748b71a8a8126496d60a2b89c09369",_),(0,a.j)("6601aa8b6736feb142225256dc47f895ef66a1c9",v)},40644:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(55761),o=r(62386);function n(...e){return(0,o.m6)((0,a.W)(e))}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,190,346,16,500,77,146,481,489,384,520,408,391,314,825],()=>r(7480));module.exports=a})();