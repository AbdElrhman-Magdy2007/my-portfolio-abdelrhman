"use strict";(()=>{var e={};e.id=636,e.ids=[636],e.modules={163:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_rethrow",{enumerable:!0,get:function(){return a}});let a=t(71042).unstable_rethrow;("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},3295:e=>{e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5486:e=>{e.exports=require("bcrypt")},10846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11723:e=>{e.exports=require("querystring")},12412:e=>{e.exports=require("assert")},18618:(e,r,t)=>{t.d(r,{A:()=>n});var a=t(61120),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,r)=>{let t=(0,a.forwardRef)(({color:t="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:l="",children:u,...c},p)=>(0,a.createElement)("svg",{ref:p,...s,width:n,height:n,stroke:t,strokeWidth:d?24*Number(i)/Number(n):i,className:["lucide",`lucide-${o(e)}`,l].join(" "),...c},[...r.map(([e,r])=>(0,a.createElement)(e,r)),...Array.isArray(u)?u:[u]]));return t.displayName=`${e}`,t}},19121:e=>{e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22389:(e,r,t)=>{t.d(r,{i:()=>x,$:()=>g});var a=t(67218);t(79130);var s=t(31183),o=t(5486),n=t.n(o),i=t(58111),d=t(62351),l=t(84113),u=t(45697);let c={requiredEmail:"Email is required",validEmail:"Invalid email format",requiredPassword:"Password is required",passwordMinLength:"Password must be at least 6 characters",passwordMaxLength:"Password must be less than 40 characters",requiredName:"Name is required",nameMaxLength:"Name must be less than 50 characters",requiredConfirmPassword:"Password confirmation is required",passwordsDoNotMatch:"Passwords do not match",validLimit:"Limit must be a positive integer",limitMax:"Limit must be 100 or less"},p=e=>({isValid:e.password===e.confirmPassword,issue:{message:c.passwordsDoNotMatch,path:["confirmPassword"]}}),m=()=>u.z.object({email:u.z.string().trim().min(1,{message:c.requiredEmail}).email({message:c.validEmail}).transform(e=>e.toLowerCase()),password:u.z.string().min(1,{message:c.requiredPassword}).min(6,{message:c.passwordMinLength}).max(40,{message:c.passwordMaxLength})}),f=()=>u.z.object({name:u.z.string().trim().min(1,{message:c.requiredName}).max(50,{message:c.nameMaxLength}),email:u.z.string().trim().min(1,{message:c.requiredEmail}).email({message:c.validEmail}).transform(e=>e.toLowerCase()),password:u.z.string().min(1,{message:c.requiredPassword}).min(6,{message:c.passwordMinLength}).max(40,{message:c.passwordMaxLength}),confirmPassword:u.z.string().min(1,{message:c.requiredConfirmPassword}),limit:u.z.number().int().min(1,{message:c.validLimit}).max(100,{message:c.limitMax}).default(1)}).refine(e=>p(e).isValid,e=>p(e).issue);var y=t(17478);let x=async(e,r)=>{if(!e?.email||!e?.password)return{status:400,message:"Email and password are required",className:"text-red-500"};let t=m().safeParse(e);if(!t.success)return{status:400,error:t.error.formErrors.fieldErrors,className:"text-red-500"};try{let e=await s.z.user.findUnique({where:{email:t.data.email},select:{id:!0,email:!0,name:!0,password:!0,role:!0,createdAt:!0,updatedAt:!0}});if(!e)return{status:401,message:"User not found",className:"text-red-500"};if(!await n().compare(t.data.password,e.password))return{status:401,message:"Incorrect password",className:"text-red-500"};let{password:r,...a}=e;return{status:200,message:"Login successful",user:a,className:"text-green-500"}}catch(e){return console.error("❌ Login Error:",{error:e instanceof Error?e.message:String(e),timestamp:new Date().toISOString()}),{status:500,message:"An unexpected error occurred",error:e instanceof Error?e.message:"Unknown error",className:"text-red-500"}}},g=async(e,r)=>{let t=Object.fromEntries(r.entries()),a=f().safeParse(t);if(!a.success)return{status:400,error:a.error.formErrors.fieldErrors,formData:r,className:"text-red-500"};try{if(await s.z.user.findUnique({where:{email:a.data.email},select:{id:!0}}))return{status:409,message:"User already exists",formData:r,className:"text-red-500"};let e=await n().hash(a.data.password,10),t=await s.z.user.create({data:{id:(0,l.A)(),name:a.data.name,email:a.data.email,password:e,role:"USER"},select:{id:!0,name:!0,email:!0,role:!0}}),o=`/${i.BV.ADMIN}`;return(0,d.revalidatePath)(`${o}/${i.bQ.USERS}/${t.id}/${i.bQ.EDIT}`),(0,d.revalidatePath)(`${o}/${i.bQ.USERS}`),{status:201,message:"Registration successful",user:t,className:"text-green-500"}}catch(e){return console.error("❌ Signup Error:",{error:e instanceof Error?e.message:String(e),timestamp:new Date().toISOString()}),{status:500,message:"An unexpected error occurred",error:e instanceof Error?e.message:"Unknown error",className:"text-red-500"}}};(0,y.D)([x,g]),(0,a.A)(x,"7f9eac56ed23c30b7351cd28b20cd87830a680a1ae",null),(0,a.A)(g,"7f5f03af2f446e4a361db5471f0061656f7668a4f4",null)},28354:e=>{e.exports=require("util")},29294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31183:(e,r,t)=>{t.d(r,{z:()=>s});var a=t(96330);let s=global.prisma||new a.PrismaClient},33169:(e,r,t)=>{t.d(r,{N:()=>d});var a=t(58111),s=t(13581),o=t(60890),n=t(31183),i=t(22389);let d={adapter:(0,o.y)(n.z),providers:[(0,s.A)({name:"Credentials",credentials:{email:{label:"Email",type:"email",placeholder:"example@email.com"},password:{label:"Password",type:"password"}},async authorize(e,r){if(!e)throw Error("No credentials provided");let t=await (0,i.i)(e,a.AT.ENGLISH);if(200===t.status&&t.user)return t.user;throw Error(JSON.stringify({validationError:t.error,responseError:t.message}))}})],callbacks:{async jwt({token:e}){if(!e.email)return e;let r=await n.z.user.findUnique({where:{email:e.email}});return r?{id:r.id,name:r.name,email:r.email,role:r.role,image:r.image,phone:r.phone,country:r.country,city:r.city,postalCode:r.postalCode,streetAddress:r.streetAddress}:e},session:({session:e,token:r})=>(r&&(e.user={...e.user,id:r.id,name:r.name,email:r.email,role:r.role,image:r.image,phone:r.phone,country:r.country,city:r.city,postalCode:r.postalCode,streetAddress:r.streetAddress}),e)},session:{strategy:"jwt",maxAge:604800,updateAge:86400},pages:{signIn:`/${a.BV.AUTH}/${a.bQ.LOGIN}`},secret:process.env.NEXTAUTH_SECRET,debug:"production"===a.B5.DEV}},33873:e=>{e.exports=require("path")},39916:(e,r,t)=>{var a=t(97576);t.o(a,"notFound")&&t.d(r,{notFound:function(){return a.notFound}}),t.o(a,"redirect")&&t.d(r,{redirect:function(){return a.redirect}})},48976:(e,r,t)=>{function a(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"forbidden",{enumerable:!0,get:function(){return a}}),t(8704).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},55511:e=>{e.exports=require("crypto")},55591:e=>{e.exports=require("https")},59194:(e,r,t)=>{t.r(r),t.d(r,{"7f5f03af2f446e4a361db5471f0061656f7668a4f4":()=>a.$,"7f9eac56ed23c30b7351cd28b20cd87830a680a1ae":()=>a.i});var a=t(22389)},62765:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"notFound",{enumerable:!0,get:function(){return s}});let a=""+t(8704).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function s(){let e=Object.defineProperty(Error(a),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=a,e}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},63033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65867:(e,r,t)=>{t.d(r,{A:()=>a});let a=(0,t(18618).A)("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]])},70899:(e,r,t)=>{function a(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unauthorized",{enumerable:!0,get:function(){return a}}),t(8704).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},71042:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_rethrow",{enumerable:!0,get:function(){return function e(r){if((0,n.isNextRouterError)(r)||(0,o.isBailoutToCSRError)(r)||(0,d.isDynamicServerError)(r)||(0,i.isDynamicPostpone)(r)||(0,s.isPostpone)(r)||(0,a.isHangingPromiseRejectionError)(r))throw r;r instanceof Error&&"cause"in r&&e(r.cause)}}});let a=t(68388),s=t(52637),o=t(51846),n=t(31162),i=t(84971),d=t(98479);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},73503:(e,r,t)=>{t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>l});var a=t(65239),s=t(48088),o=t(88170),n=t.n(o),i=t(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(r,d);let l={children:["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,75758)),"C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy - Copy\\src\\app\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy - Copy\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,54413)),"C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy - Copy\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,u=["C:\\Users\\raya\\ShoppingCart\\portfolio - Copy - Copy - Copy - Copy\\src\\app\\profile\\page.tsx"],c={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},74075:e=>{e.exports=require("zlib")},75758:(e,r,t)=>{t.r(r),t.d(r,{default:()=>p});var a=t(37413),s=t(58111),o=t(19854),n=t(39916),i=t(61120),d=t(65867),l=t(33169),u=t(86384),c=t(96330);async function p(){let e=await (0,o.getServerSession)(l.N);return e||(0,n.redirect)(`/${s.BV.AUTH}/${s.bQ.LOGIN}`),e.user.role===c.UserRole.ADMIN&&(0,n.redirect)(`/${s.BV.ADMIN}`),(0,a.jsxs)("main",{className:"relative min-h-screen bg-background transition-colors duration-300 overflow-hidden",children:[(0,a.jsx)("div",{className:"particle-wave",children:[...Array(12)].map((e,r)=>(0,a.jsx)("div",{className:"particle",style:{left:`${100*Math.random()}%`,top:`${100*Math.random()}%`,width:`${6*Math.random()+3}px`,height:`${6*Math.random()+3}px`,animationDuration:`${4*Math.random()+2}s`,animationDelay:`${3*Math.random()}s`}},r))}),(0,a.jsx)("section",{className:"py-16 lg:py-24 relative z-10",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("header",{className:"mb-12 text-center",children:[(0,a.jsx)("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-heading font-bold text-gradient-primary animate-reveal-text tracking-tight","aria-labelledby":"profile-title",children:"Your Profile"}),(0,a.jsx)("p",{className:"mt-4 text-lg md:text-xl text-muted-foreground animate-reveal-text delay-200",children:"Manage your account details with ease"})]}),(0,a.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,a.jsx)("div",{className:"card glass-card animate-reveal-text delay-400 p-8",children:(0,a.jsx)(i.Suspense,{fallback:(0,a.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,a.jsx)(d.A,{className:"w-12 h-12 animate-spin text-primary","aria-hidden":"true"})}),children:e.user?(0,a.jsx)(u.default,{user:e.user}):(0,a.jsx)("p",{className:"text-center text-destructive font-medium",role:"alert",children:"Unable to load user data. Please try again."})})})})]})})]})}},79428:e=>{e.exports=require("buffer")},79551:e=>{e.exports=require("url")},81630:e=>{e.exports=require("http")},86897:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{getRedirectError:function(){return n},getRedirectStatusCodeFromError:function(){return c},getRedirectTypeFromError:function(){return u},getURLFromRedirectError:function(){return l},permanentRedirect:function(){return d},redirect:function(){return i}});let a=t(52836),s=t(49026),o=t(19121).actionAsyncStorage;function n(e,r,t){void 0===t&&(t=a.RedirectStatusCode.TemporaryRedirect);let o=Object.defineProperty(Error(s.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return o.digest=s.REDIRECT_ERROR_CODE+";"+r+";"+e+";"+t+";",o}function i(e,r){var t;throw null!=r||(r=(null==o||null==(t=o.getStore())?void 0:t.isAction)?s.RedirectType.push:s.RedirectType.replace),n(e,r,a.RedirectStatusCode.TemporaryRedirect)}function d(e,r){throw void 0===r&&(r=s.RedirectType.replace),n(e,r,a.RedirectStatusCode.PermanentRedirect)}function l(e){return(0,s.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function u(e){if(!(0,s.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function c(e){if(!(0,s.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},94735:e=>{e.exports=require("events")},96330:e=>{e.exports=require("@prisma/client")},97576:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{ReadonlyURLSearchParams:function(){return u},RedirectType:function(){return s.RedirectType},forbidden:function(){return n.forbidden},notFound:function(){return o.notFound},permanentRedirect:function(){return a.permanentRedirect},redirect:function(){return a.redirect},unauthorized:function(){return i.unauthorized},unstable_rethrow:function(){return d.unstable_rethrow}});let a=t(86897),s=t(49026),o=t(62765),n=t(48976),i=t(70899),d=t(163);class l extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class u extends URLSearchParams{append(){throw new l}delete(){throw new l}set(){throw new l}sort(){throw new l}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[243,915,78,257,802,332,533,158,357,423,100],()=>t(73503));module.exports=a})();